<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="src/prompts/Return_to_Home_Page.css" type="text/css" />

    <link href="CSS/ReferenceOverlay.css" rel="stylesheet" type="text/css" />
    <link href="CSS/Dropdown.css" rel="stylesheet" type="text/css" />
    <link href="CSS/ReferenceListStyle.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="CSS\ContextMenu.css" type="text/css" />
    <link rel="stylesheet" href="CSS\jquery.contextMenu.min.css" type="text/css" />
    <link rel="stylesheet" href="src\Infragistics\themes\infragistics\infragistics.theme.css" type="text/css" />
    <link rel="stylesheet" href="src\Infragistics\structure\infragistics.css" type="text/css" />

    <link href="CSS\slider.css" rel="stylesheet" type="text/css" />
    <link href="images/UIPackage/favicon.png" rel="shortcut icon" />
    <meta charset="utf-8" />
    <meta content="width=1280, maximum-scale=1.0" name="viewport" />
    <link href="CSS/module2.css" rel="stylesheet" type="text/css" />
    <meta content="Launchpad by Anima" name="author">
    </meta>

    <script src="Javascripts/jquery/jquery-1.11.3.min.js" onload="window.jQuery = window.$ = module.exports;"></script>
    <script type="text/javascript" src="Javascripts/jquery/jquery-ui.min.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewModule.js"></script>
    <script type="text/javascript" src="Javascripts\jquery\jquery.contextMenu.min.js"></script>

    <script type="text/javascript" src="Javascripts/hoops_web_viewer.js"></script>
    <script type="text/javascript" src="Javascripts/communicator_server_integration.js"></script>

    <script type="text/javascript" src="Javascripts\xCheckStudio\CheckResults.js"></script> 
    <!-- <script type="text/javascript" src="Javascripts\xCheckStudio\Review1DViewerDataManager.js"></script>    -->
    <script type="text/javascript" src="Javascripts\xCheckStudio\HighlightManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\Utility.js"></script>

    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewViewerInterface.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ComparisonReviewManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ComplianceReviewManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewModuleStringCollection.js"></script>   
    <script type="text/javascript" src="Javascripts\xCheckStudio\ComparisonCheckResultsTable.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ComplianceCheckResultsTable.js"></script>
    <script type="text/javascript" src="src\Infragistics\infragistics.core.js"></script>
    <script type="text/javascript" src="src\Infragistics\infragistics.lob.js"></script>
    

    <!-- <link href="CSS\analytics.css" rel="stylesheet" type="text/css" /> -->
    <link rel="stylesheet" href="CSS\ViewStyle.css" type="text/css" />
    <!-- <link rel="stylesheet" href="CSS\Tablestyle.css" type="text/css" /> -->

    <link type="text/css" rel="stylesheet" href="Javascripts/jsgrid-1.5.3/css/jsgrid.css" />
    <link type="text/css" rel="stylesheet" href="Javascripts/jsgrid-1.5.3/css/theme.css" />
    <script type="text/javascript" src="Javascripts\jsgrid-1.5.3\dist\jsgrid.js"></script>

    <script type="text/javascript" src="Javascripts\xCheckStudio\GoogleCharts.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\GoogleLoaderCharts.js"></script>
    <!-- <script type="text/javascript" src="Javascripts\xCheckStudio\PDFExporter.js"></script> -->

    <script type="text/javascript" src="Javascripts\xCheckStudio\SmallAnalyticsManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReferenceManager.js"></script>

    <script type="text/javascript" src="Javascripts\xCheckStudio\TranslucencyManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ExplodeManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\NavCubeManager.js"></script>

    <script type="text/javascript" src="Javascripts\xCheckStudio\OperationManager.js"></script>   
    <script type="text/javascript" src="Javascripts\xCheckStudio\IsolateManager.js"></script>   
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewModuleConstants.js"></script>   
    
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewSelectionManager.js"></script>   
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewComparisonSelectionManager.js"></script>   
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewComplianceSelectionManager.js"></script>   

    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewModuleContextMenuManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewComparisonContextMenuManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewComplianceContextMenuManager.js"></script>
    <script type="text/javascript">
        // Load the Visualization API and the corechart package.
        google.charts.load('current', { 'packages': ['corechart'] });   
    </script>

    <style type="text/css">
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
        }

        /* The grid: Three equal columns that floats next to each other */
        .column {
            float: left;
            width: 50%;
            padding: 50px;
            text-align: center;
            font-size: 25px;
            cursor: pointer;
            color: white;
        }

        .checkResultsContainerTab {
            padding: 20px;
            color: black;
            overflow: auto;
        }

        .contextMenu_style {
            overflow: visible !important;
        }

        .viewContainerTab {
            color: white;
        }

        /* Clear floats after the columns */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }

        /* Closable button inside the container tab */
        .closebtn {
            float: right;
            color: white;
            font-size: 35px;
            cursor: pointer;

        }

        .collapsible {
            background-color: #fff;
            cursor: pointer;
            width: 100%;
            left: 6px;
            height: 20px;
            margin-bottom: 1px;
            border: none;
            text-align: left;
            border: solid 0.5px;
            outline: none;
            font-family: "Helvetica-Bold, Helvetica, Arial, serif";
            font-size: 12px;
        }

        .active,
        .collapsible:hover {
            background-color: lightgray;
        }

        .content {
            padding: 0 18px;
            display: none;
            overflow: hidden;
            background-color: #f1f1f1;
        }

        img.button_open {
            content: url('images/button-open.png');
            cursor: pointer;
        }

        img.button_closed {
            content: url('images/button-closed.png');
            cursor: pointer;
        }

        .scrollable {
            overflow-x: auto;
            overflow-y: auto;
        }

        #ComparisonMainReviewCell,
        #SourceAComplianceMainReviewCell,
        #SourceBComplianceMainReviewCell {
            font-size: 8px;
        }

        #ComparisonDetailedReviewCell,
        #SourceAComplianceDetailedReviewCell,
        #SourceBComplianceDetailedReviewCell {
            font-size: 8px;
        }

        #viewerContainer1,
        #viewerContainer2 {
            font-size: 8px;
            color: #000;
        }

        td {
            height: 10px;
        }

        /* The Modal (background) */
        .modal {
            display: none;
            /* Hidden by default */
            position: absolute;
            /* Stay in place */
            z-index: 1;
            padding: auto;
            /* Location of the box */
            width: 1280px;
            /* Full width */
            height: 760px;
            /* Full height */
            margin: 0 432px 0 0;
            top: 0px;
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
        }

        /* Modal Content */
        .modal-content {
            background-color: #fefefe;
            border: 1px solid #888;
            width: 750px;
            height: 740px;
            margin-left: 250px;
            margin-top: 214px;
        }

        /* The Close Button */
        .close {
            color: #aaaaaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .jsgrid-cell {
            word-wrap: break-word;
        }

        .disable {
            pointer-events: none;
            opacity: 0.4;
        }

        .disable div,
        .disable textarea {
            overflow: hidden;
        }
    </style>

    <style>
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-thumb {
        background: gray; 
        border-radius: 6px;
    }
  </style>
</head>

<body style="margin: 0;
 background: rgba(255, 255, 255, 1.0);">

    <div id="returnHomeOverlay" class="overlay"></div>
    <div id="returnHomePopup" class="popup">    
        <div id="Return_to_Home_Page">
            <svg class="Rectangle_1204">
                <rect fill="rgba(50,49,50,1)" stroke="rgba(242,243,244,1)" stroke-width="3px" stroke-linejoin="miter"
                    stroke-linecap="butt" stroke-miterlimit="4" shape-rendering="auto" id="Rectangle_1204" rx="5" ry="5"
                    x="0" y="0" width="581" height="155">
                </rect>
            </svg>
            <svg class="Rectangle_1215">
                <rect fill="rgba(71,71,71,1)" id="Rectangle_1215" rx="0" ry="0" x="0" y="0" width="575" height="55">
                </rect>
            </svg>
            <div id="Info">
                <span>Info</span>
            </div>
            <div id="Return_to_Home_Page_">
                <span></span><span style="font-style:normal;font-weight:normal;">Return to Home Page?</span>
            </div>
            <div id="symNoButton___10"  onclick="cancelReturnHome()">
                <svg class="Path_310" viewBox="0 0 90 30">
                    <path fill="rgba(59,59,59,1)" stroke="rgba(21,185,249,1)" stroke-width="1px" stroke-linejoin="miter"
                        stroke-linecap="butt" stroke-miterlimit="4" shape-rendering="auto" id="Path_310"
                        d="M 5 0 L 85 0 C 87.76142120361328 0 90 2.238576173782349 90 5 L 90 25 C 90 27.76142311096191 87.76142120361328 30 85 30 L 5 30 C 2.238576173782349 30 0 27.76142311096191 0 25 L 0 5 C 0 2.238576173782349 2.238576173782349 0 5 0 Z">
                    </path>
                </svg>
                <div id="CANCEL">
                    <span>Cancel</span>
                </div>
            </div>
    
            <div id="symYesButton___10"  onclick="returnHome()">
                <svg class="Path_310" viewBox="0 0 90 30">
                    <path fill="rgba(59,59,59,1)" stroke="rgba(21,185,249,1)" stroke-width="1px" stroke-linejoin="miter"
                        stroke-linecap="butt" stroke-miterlimit="4" shape-rendering="auto" id="Path_310"
                        d="M 5 0 L 85 0 C 87.76142120361328 0 90 2.238576173782349 90 5 L 90 25 C 90 27.76142311096191 87.76142120361328 30 85 30 L 5 30 C 2.238576173782349 30 0 27.76142311096191 0 25 L 0 5 C 0 2.238576173782349 2.238576173782349 0 5 0 Z">
                    </path>
                </svg>
                <div id="OK">
                    <span>OK</span>
                </div>
            </div>
            <svg class="icon_32_Info" viewBox="0 1 32 32">
                <path fill="rgba(123,168,219,1)" id="icon_32_Info"
                    d="M 15.99930000305176 33.00030136108398 C 11.7262601852417 33.00030136108398 7.708600044250488 31.33565139770508 4.686410427093506 28.31299018859863 C 1.664330244064331 25.29044151306152 2.716064386731887e-07 21.2724609375 2.716064386731887e-07 16.99920082092285 C 2.716064386731887e-07 12.72605133056641 1.664330244064331 8.708391189575195 4.686410427093506 5.6863112449646 C 7.708490371704102 2.664231061935425 11.72615051269531 0.9999011158943176 15.99930000305176 0.9999011158943176 C 20.27256011962891 0.9999011158943176 24.29054069519043 2.664231061935425 27.31308937072754 5.6863112449646 C 30.33575057983398 8.708500862121582 32.00040054321289 12.72616100311279 32.00040054321289 16.99920082092285 C 32.00040054321289 21.2723503112793 30.33575057983398 25.29033088684082 27.31308937072754 28.31299018859863 C 24.29043006896973 31.33565139770508 20.2724494934082 33.00030136108398 15.99930000305176 33.00030136108398 Z M 12.7224006652832 14.56110095977783 C 13.2699499130249 14.56110095977783 13.63029003143311 14.65001106262207 13.82400035858154 14.83290100097656 C 14.01451015472412 15.0153112411499 14.11110019683838 15.342041015625 14.11110019683838 15.80400085449219 C 14.11110019683838 16.06768035888672 14.08021068572998 16.35625076293945 14.01930046081543 16.66170120239258 C 13.95783996582031 16.96285057067871 13.87971019744873 17.29594039916992 13.78709983825684 17.65170097351074 L 12.75660037994385 21.29310035705566 C 12.66396045684814 21.68291091918945 12.59889030456543 22.01912117004395 12.55770015716553 22.32090187072754 C 12.51708984375 22.62499046325684 12.49650001525879 22.92537117004395 12.49650001525879 23.21370124816895 C 12.49650001525879 23.95893096923828 12.77508068084717 24.58180046081543 13.32450008392334 25.06500053405762 C 13.87519073486328 25.54933166503906 14.65764045715332 25.79490089416504 15.65010070800781 25.79490089416504 C 16.29512023925781 25.79490089416504 16.87014961242676 25.70890045166016 17.35919952392578 25.5393009185791 C 17.86007118225098 25.3650016784668 18.5232105255127 25.11519050598145 19.3302001953125 24.79680061340332 L 19.60470008850098 23.67630195617676 C 19.45536994934082 23.74576187133789 19.2244701385498 23.82290077209473 18.9197998046875 23.90670204162598 C 18.59893035888672 23.99512100219727 18.32162094116211 24.03810119628906 18.07200050354004 24.03810119628906 C 17.54241943359375 24.03810119628906 17.16543006896973 23.94968032836914 16.95149993896484 23.77530097961426 C 16.73650932312012 23.60224151611328 16.62750053405762 23.27067184448242 16.62750053405762 22.7898006439209 C 16.62750053405762 22.59416198730469 16.66081047058105 22.3086109161377 16.72649955749512 21.94110107421875 C 16.79701042175293 21.55279159545898 16.87120056152344 21.22690200805664 16.95330047607422 20.94480133056641 L 17.97840118408203 17.31420135498047 C 18.07889938354492 16.97829055786133 18.14824104309082 16.60887145996094 18.18449974060059 16.21620178222656 C 18.22143936157227 15.80705070495605 18.23940086364746 15.53356075286865 18.23940086364746 15.38010120391846 C 18.23940086364746 14.620680809021 17.96869087219238 13.99357128143311 17.43480110168457 13.51620101928711 C 16.89764976501465 13.0402307510376 16.12671089172363 12.79890155792236 15.14340019226074 12.79890155792236 C 14.59355068206787 12.79890155792236 14.0055103302002 12.89822101593018 13.39560031890869 13.09410095214844 C 12.77694034576416 13.29037094116211 12.12530994415283 13.52777099609375 11.45880031585693 13.79970073699951 L 11.1870002746582 14.92110061645508 C 11.40032005310059 14.83929061889648 11.657470703125 14.75821113586426 11.90340042114258 14.68260097503662 C 12.1759204864502 14.6019811630249 12.45147037506104 14.56110095977783 12.7224006652832 14.56110095977783 Z M 17.42130088806152 6.153301239013672 C 16.75091934204102 6.153301239013672 16.16772079467773 6.379801273345947 15.68790054321289 6.82650089263916 C 15.20895004272461 7.275681018829346 14.96610069274902 7.82072114944458 14.96610069274902 8.446500778198242 C 14.96610069274902 9.075160980224609 15.20895004272461 9.618990898132324 15.68790054321289 10.06290149688721 C 16.16835975646973 10.50482082366943 16.75156021118164 10.72890090942383 17.42130088806152 10.72890090942383 C 18.09134101867676 10.72890090942383 18.67242050170898 10.50482082366943 19.14839935302734 10.06290149688721 C 19.62495994567871 9.619550704956055 19.86660003662109 9.075711250305176 19.86660003662109 8.446500778198242 C 19.86660003662109 7.818490982055664 19.62495994567871 7.273441314697266 19.14839935302734 6.82650089263916 C 18.67394065856934 6.379801273345947 18.09287071228027 6.153301239013672 17.42130088806152 6.153301239013672 Z">
                </path>
            </svg>
        </div>
    
    </div>

    <!-- reference overlay div -->
    <div id="referenceOverlay" class="overlay"></div>
    <div id="referebcePopup" class="popup">
        <div class="popupcontrols" style="height: 5%; width: 100%;">
            <span id="referencePopupclose" class="popupclose">X</span>
        </div>
        <div class="popupcontent" style="height: 90%; width: 100%;">

            <table width="100%" height="100%">
                <tr>
                    <td width="10%" height="100%" style="vertical-align:top">
                        <div class="dropdown">
                            <button onclick="toggleReferenceDropdown()" class="dropbtn">New Reference</button>
                            <div id="newReferenceDropdown" class="dropdown-content">
                                <a href="#webAddress" id="addWebAddressBtn">Web Address</a>
                                <a href="#document" id="addDocumentBtn">Document</a>
                                <a href="#picture" id="addPictureBtn">Picture</a>
                                <a href="#predefinedUser" id="addUserBtn">Predefined User</a>
                            </div>
                        </div>
                    </td>
                    <td width="90%" height="100%" style="vertical-align:top">

                        <div id="referenceContents"
                            style="width:100%; height:100%; overflow-x: scroll; overflow-y:scroll">
                            <ol id="referenceList">
                                <li>Web Address
                                    <ul id="webAddressList">
                                    </ul>
                                </li>
                                <li>Document
                                    <ul id="documentList">
                                    </ul>
                                </li>
                                <li>Picture
                                    <ul id="pictureList">
                                    </ul>
                                </li>
                                <li>User
                                    <ul id="userList">
                                    </ul>
                                </li>
                            </ol>
                        </div>
                    </td>
                </tr>
            </table>

            <!-- Enter web address overlay -->
            <div id="addAddressOverlay" class="overlay"></div>
            <div id="addAddressPopup" class="popup" style="height: 80px;">
                <div class="popupcontent" style="padding: 10px; ">
                    <textarea id="webAddressInput" style="resize: none; width:100%;"></textarea>
                    <button id="addAddress">Add</button>
                    <button id="CancelAddAddress">Cancel</button>
                </div>
            </div>

            <!-- Add Document overlay -->
            <div id="addDocumentOverlay" class="overlay"></div>
            <div id="addDocumentPopup" class="popup" style="height: 100px;">
                <div class="popupcontent" style="padding: 10px; ">
                    <form id="UploadReferenceDocForm" action="UploadReferenceDoc.php" method="post"
                        enctype="multipart/form-data">
                        Select Document to upload:
                        <input type="file" name="fileToUpload" id="fileToUpload"
                            accept=".xml, .XML, .pdf, .PDF, .txt, .TXT">
                    </form>
                    <br>
                    <button id="UploadRefernceDocumentBtn">Add</button>
                    <button id="CancelAddDocument">Cancel</button>
                </div>
            </div>

            <!-- Add Picture overlay -->
            <div id="addPictureOverlay" class="overlay"></div>
            <div id="addPicturePopup" class="popup" style="height: 100px;">
                <div class="popupcontent" style="padding: 10px; ">
                    <form id="UploadReferencePicForm" action="UploadReferenceDoc.php" method="post"
                        enctype="multipart/form-data">
                        Select Document to upload:
                        <input type="file" name="fileToUpload" id="picToUpload"
                            accept=".jpg, .jpeg, .jpe, .bmp, .gif, .tif, .png">
                    </form>
                    <br>
                    <button id="UploadReferncePicBtn">Add</button>
                    <button id="CancelAddPic">Cancel</button>
                </div>
            </div>

        </div>
    </div>
    </div>

    <div id="menu">
        <a href="#" onclick="hide()">
            <img src="images/hide.png" />Hide
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="showAll()">
            <img src="images/show.png" /> Show All
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        
        <hr />
        <a href="#" onclick="showNavCube()">
           Show Navigation Cube
        </a>
        <a href="#" onclick="hideNavCube()">
            Hide Navigation Cube
        </a>
        
        <hr />
        <a href="#" onclick="startExplode()">
            Start Explode
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="stopExplode()">
            Stop Explode
            <!-- <span>Ctrl + ?!</span> -->
        </a>

        <a href="#" onclick="startTranslucency()">
            Start Translucency
            <!-- <span>Ctrl + T</span> -->
        </a>
        <a href="#" onclick="stopTranslucency()">
            Stop Translucency
            <!-- <span>Ctrl + T</span> -->
        </a>

        <a href="#" onclick="isolate()">
            Isolate
            <!-- <span>Ctrl + T</span> -->
        </a>

    </div>

    <input id="anPageName" name="page" type="hidden" value="module2" />
    <div class="module2">
        <div style="width: 1280px; height: 100%; position:relative; margin:auto;">
            <div class="bg">
                <div class="bg2">
                </div>
                <img src="images/UIPackage/landing-page-symbol.png" class="symbol" />
            </div>
            <div class="header">
                <div class="bg2">
                </div>
                <a href="https://www.help.com/" target="_blank">
                    <div class="helpbtn">
                        <img src="images/UIPackage/module2-bg 2@2x.png" class="bg3" />
                        <img src="images/UIPackage/prep-home-page-icon@2x.png" class="icon" />
                    </div>
                </a>
                <div class="savebtn">
                    <img src="images/UIPackage/module2-bg 2@2x.png" class="bg3" />
                    <img src="images/UIPackage/prep-create-a-configuration-page-icon 1@2x.png" class="icon" />
                </div>
                <div class="refreshbtn" onclick="gotoCheckModule()">
                    <img src="images/UIPackage/module2-bg 2@2x.png" class="bg3" />
                    <img src="images/UIPackage/module2-icon 2@2x.png" class="icon" />
                </div>
                <!--<div class="search">
                        <div class="bg3">
                        </div>
                        <div class="typeu2026">
                            Type…
                        </div>
                        <img src="/images/UIPackage/create-project-with-open-menu-search-icon@2x.png" class="searchicon" />
                    </div>-->
                <div class="search">
                    <div class="bg3">
                    </div>
                    <input class="typeu2026" id="searchtext" type="text" placeholder="Type..">
                    <img src="images/UIPackage/create-project-with-open-menu-search-icon@2x.png" class="searchicon" />
                </div>
                <div class="logo">
                    <img src="images/UIPackage/module2-with-open-menu-check@2x.png" class="check" />
                    <img src="images/UIPackage/landing-page-studio@2x.png" class="studio" />
                    <img src="images/UIPackage/module1-symbol 1@2x.png" class="symbol" />
                </div>
            </div>
            <div class="group2">
                <div class="bg2">
                </div>
                <div id="ComparisonDetailedReviewTbody" class="table"
                    style='height:202px;display:none; width: 579px;display:block;'>
                    <div class="comments">
                    </div>
                    <div class="adescriptionvalue">
                    </div>
                    <div id="ComparisonDetailedReviewCell" style="border:none; width: 579px; height: 200px;"></div>
                    <div id="ComparisonDetailedReviewComment"
                        style="border:none; width: 579px; height:20px; font-size: 10px"></div>
                </div>
                <div id="ComplianceADetailedReviewTbody" class="table" style='height:202px;display:none;'>
                    <div class="comments">
                    </div>
                    <div class="adescriptionvalue">
                    </div>
                    <div id="SourceAComplianceDetailedReviewCell" style="border:none; width: 579px; height: 150px">
                    </div>
                    <div id="SourceAComplianceDetailedReviewComment"
                        style="border:none; width: 579px; height:20px; font-size: 10px"></div>
                </div>
                <div id="ComplianceBDetailedReviewTbody" class="table" style='height:202px;display:none;'>
                    <div class="comments">
                    </div>
                    <div class="adescriptionvalue">
                    </div>
                    <div id="SourceBComplianceDetailedReviewCell" style="border:none; width: 579px; height: 150px">
                    </div>
                    <div id="SourceBComplianceDetailedReviewComment"
                        style="border:none; width: 579px; height:20px; font-size: 10px"></div>
                </div>
            </div>

            <!-- <img src="/images/UIPackage/module2-bg 3.png" class="bg1" /> -->
            <div class="bg1">
                <!-- <img src="/images/UIPackage/module2-with-open-menu-bitmap.png" class="bitmap" /> -->
                <div class="bitmap">
                    <!--Checks Tab Page-->
                    <div id="ChecksTabPage" class="viewContainerTab"
                        style="width: 100%; height: 110%; display: block;margin-top: 40px;">
                        <!-- <span onclick="this.parentElement.style.display='none'" style="color: black" class="closebtn">&times;</span> -->
                        <div style="height:100%">
                            <table id="checksViewTable"
                                style="width: 100%; height: 200px; margin: auto; overflow: scroll;">

                                <tbody>
                                    <!-- comparison source A viewer -->
                                    <tr id="sourceAContainerRow" style="width: 450px; height: 50%; top: 40px;">
                                        <td style="border-style: none;">

                                            <div style="position: relative">
                                                <!-- explode slider -->
                                                <div id="explodeOverlay1" class="sliderOverlay">
                                                    <div class="slidecontainer" style="color:rgba(0, 0, 0, 1)">
                                                        <input type="range" min="0" max="10" value="0" step="0.5"
                                                            class="slider" id="explodeSlider1">
                                                        <p><span id="explodeValue1"></span></p>
                                                    </div>
                                                </div>

                                                <!-- Translucency slider -->
                                                <div id="translucencyOverlay1" class="sliderOverlay">
                                                    <div class="slidecontainer" style="color:rgba(0, 0, 0, 1)">
                                                        <input type="range" min="0" max="1" value="1" step="0.1"
                                                            class="slider" id="translucencySlider1">
                                                        <p> <span id="translucencyValue1"></span></p>
                                                    </div>
                                                </div>

                                                <div class="example-canvas-tiny" id="viewerContainer1"
                                                    style="width: 550px; height: 270px; min-width: 200px; border-style: none;"></div>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- comparison source B viewer -->
                                    <tr id="sourceBContainerRow" style="width: 450px; height: 50%; top: 40px;">
                                        <td style="border-style: none;">

                                            <div style="position: relative">
                                                <!-- explode slider -->
                                                <div id="explodeOverlay2" class="sliderOverlay">
                                                    <div class="slidecontainer" style="color:rgba(0, 0, 0, 1)">
                                                        <input type="range" min="0" max="10" value="0" step="0.5"
                                                            class="slider" id="explodeSlider2">
                                                        <p> <span id="explodeValue2"></span></p>
                                                    </div>
                                                </div>

                                                <!-- Translucency slider -->
                                                <div id="translucencyOverlay2" class="sliderOverlay">
                                                    <div class="slidecontainer" style="color:rgba(0, 0, 0, 1)">
                                                        <input type="range" min="0" max="1" value="1" step="0.1"
                                                            class="slider" id="translucencySlider2">
                                                        <p> <span id="translucencyValue2"></span></p>
                                                    </div>
                                                </div>

                                                <div class="example-canvas-tiny" id="viewerContainer2"
                                                    style="width: 550px; height: 270px; min-width: 200px; border-style: none;"></div>
                                            </div>
                                        </td>
                                    </tr>

                                </tbody>

                            </table>
                        </div>
                    </div>
                    <!--Analytics Tab Page-->
                    <div id="AnalyticsTabPage" class="viewContainerTab"
                        style="  width: 100%; height: 100%;  display: none">
                        <!-- <span onclick="this.parentElement.style.display='none'" style="color: black" class="closebtn">&times;</span> -->
                        <div id="analyticsContainer" style="margin-top: 50px; height: 110%; width: 100%;"> </div>
                    </div>
                </div>
                <div class="white1">
                    <!-- <img src="/images/UIPackage/module2-bg 7.png" class="bg2" /> -->
                    <div class="panel">
                        <div class="bg3">
                        </div>
                    </div>
                    <div class="tab1" onclick="openViewTab('ChecksTabPage');" style="cursor: pointer;">
                        <!-- <img src="/images/UIPackage/module2-with-open-menu-tab 2@2x.png" class="tab2" /> -->
                        <div class="tab2" id="ChecksViewTab" style=" background-color: #F3F0F4; cursor: pointer;">
                            <div class="checks" onclick="openViewTab('ChecksTabPage');">
                                Checks
                            </div>
                        </div>
                    </div>

                    <div class="tab" onclick="openViewTab('AnalyticsTabPage');" tyle="cursor: pointer;">
                        <!-- <img src="/images/UIPackage/module2-tab 3@2x.png" class="tab1" /> -->
                        <div class="tab1" id="AnalyticsViewTab" style=" background-color: lightgray; cursor: pointer;">
                            <div class="analytics" onclick="openViewTab('AnalyticsTabPage');">
                                Analytics
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="btn-view">
                <div class="review">
                    REVIEW
                </div>
                <!-- <a href="module2withopenmenu.html"> -->
                <div class="btn1">
                    <img src="images/UIPackage/landing-page-bg 1@2x.png" class="bg2" />
                    <img src="images/UIPackage/module2-icon-review@2x.png" class="iconreview" />
                </div>
                <!-- </a> -->
                <img src="images/UIPackage/create-project-arrow@2x.png" class="arrow" />
            </div>
            <div class="footer">
                <div class="bg2">
                </div>
                <div class="inforight">
                    <div class="user">
                        USER
                    </div>
                    <img src="images/UIPackage/create-project-with-open-menu-bg 2@2x.png" class="bg3" />
                    <div class="path">
                        <img src="images/UIPackage/landing-page-path@2x.png" class="path1" />
                    </div>
                    <div class="pierre" id="pierre">
                        Pierre
                    </div>
                </div>
            </div>
            <div class="infoleft">
                <div class="project">
                    PROJECT:
                </div>
                <div class="powerplant" id="powerplant">
                    PowerPlant
                </div>
            </div>
            <div class="infomid">
                <div class="units">
                    UNITS:
                </div>

                <select class="mks">
                    <option class="options">Custom</option>
                    <option class="options">Metric</option>
                    <option class="options">Imperial</option>
                </select>
                <!--<img src="/images/UIPackage/module1-with-open-menu-triangle 2@2x.png" class="triangle" />-->
            </div>
            <div class="group3">
                <div class="group1">
                    <div id="ComparisonTabPage" class="checkResultsContainerTab" style="display:block;">
                        <div id="ComparisonMainReviewTbody" class="table1"
                            style='top:10px; height:275px; width: 592px; display:block;overflow-y:scroll;overflow-x: visible'>
                            <div id="ComparisonMainReviewCell"
                                style="text-align:left; vertical-align:top;width: 575px; height: 275px; border:none">
                            </div>
                        </div>
                    </div>
                    <div id="SourceAComplianceTabPage" class="checkResultsContainerTab" style="display:none;">
                        <div id="SourceAComplianceMainReviewTbody" class="table1"
                            style='top:10px; height:275px; width: 592px; display:block;overflow-y:scroll;overflow-x: hidden'>
                            <div id="SourceAComplianceMainReviewCell"
                                style="text-align:left; vertical-align:top;width: 575px; height: 275px; border:none">
                            </div>
                        </div>
                    </div>
                    <div id="SourceBComplianceTabPage" class="checkResultsContainerTab" style="display:none;">
                        <div id="SourceBComplianceMainReviewTbody" class="table1"
                            style='top:10px; height:275px; width: 592px; display:block;overflow-y:scroll;overflow-x: hidden'>
                            <div id="SourceBComplianceMainReviewCell"
                                style="text-align:left; vertical-align:top;width: 575px; height: 275px; border:none">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="white">
                    <!-- <img src="/images/UIPackage/module2-bg 6.png" class="bg2" /> -->
                    <div class="panel">
                        <div class="bg3">
                        </div>
                    </div>
                    <div class="sourceatab" id="sourceatab">
                        <img src="images/UIPackage/module2-tab 1@2x.png" class="tab1" />
                    </div>
                    <div class="sourceatab" id="tab1Parent" onclick="openCheckResultTab('ComparisonTabPage');"
                        style="cursor: pointer;">
                        <div class="tab1" id="tab1">
                            <div id="dataSource1ModelBrowserTab" style="text-align: center; background-color: #F3F0F4;">
                                Comparison
                            </div>
                        </div>
                    </div>

                    <div class="sourcebtab" id="sourcebtab">
                        <img src="images/UIPackage/module2-tab 1@2x.png" class="tab2" />
                    </div>
                    <div class="sourcebtab" id="tab2Parent" onclick="openCheckResultTab('SourceAComplianceTabPage');"
                        style="cursor: pointer;">
                        <div class="tab2" id="tab2" style="cursor: pointer;">
                            <div id="dataSource2ModelBrowserTab"
                                style="text-align: center; background-color: lightgray">
                                Compliance A
                            </div>
                        </div>
                    </div>

                    <div class="sourcectab" id="sourcectab">
                        <img src="images/UIPackage/module2-tab 1@2x.png" class="tab3" />
                    </div>
                    <div class="sourcectab" id="tab3Parent" onclick="openCheckResultTab('SourceBComplianceTabPage');"
                        style="cursor: pointer;">
                        <div class="tab3" id="tab3">
                            <div id="dataSource3ModelBrowserTab"
                                style="text-align: center; background-color: lightgray">
                                Compliance B
                            </div>
                        </div>
                    </div>

                    <button type="button" class="buttonset" onclick="acceptAllCategories()"
                        style="text-align: center; background-color: lightgray">Accept All</button>
                    <button type="button" class="buttonreset" onclick="resetAllCategories()"
                        style="text-align: center; background-color: lightgray">Reset</button>
                </div>

            </div>
            <div class="group">
                <div class="iconfullscreenfilled" onclick="OnFullScreen()" onMouseOver="this.style.cursor='pointer'">
                    <img src="images/UIPackage/module1-icon--fullscreen--filled@2x.png" class="iconfullscreenfilled1" />
                </div>
                <div class="iconfullscreenexitfilled">
                    <img src="images/UIPackage/module2-icon--fullscreen-exit--filled@2x.png"
                        class="iconfullscreenexitfilled1" />
                </div>
                <div class="icon1" onclick="onSaveProject()">
                    <img src="images/UIPackage/module1-icon-3-bg2@2x.png" class="icon1bg2" />
                    <img src="images/UIPackage/module2-with-open-menu-icon-1-bg1@2x.png" class="icon1bg1" />
                    <img src="images/UIPackage/module2-with-open-menu-icon-1-black@2x.png" class="icon1black" />
                </div>
                <div class="icon3" onclick="onHomeClick()">
                    <img src="images/UIPackage/module1-icon-3-bg2@2x.png" class="icon3bg2" />
                    <img src="images/UIPackage/module1-with-open-menu-icon-3-black@2x.png" class="icon3black" />
                </div>
            </div>
            <!-- The Modal -->
            <div id="maximizeViewerContainer" class="modal">
                <!-- Modal content -->
                <div class="modal-content" id="maximizeViewerContainer-content"
                    style="width: 60%; height: 100%; margin-left: 280px; margin-top: 5px; overflow: auto;">

                </div>
            </div>
        </div>

    </div>
    <!-- Scripts -->
    <script>

        document.addEventListener("contextmenu", function (e) {
            e.preventDefault();
        }, false);   

        var analyticsManager;
        var currentlyOpenedTab;
        var comparisonReviewManager;
        var sourceAComplianceReviewManager;
        var sourceBComplianceReviewManager;
        window.onload = function () {
            var _this = this;

            // set project name
            setProjectName();

            // set user name
            setUserName();
            var projectinfo = JSON.parse(localStorage.getItem('projectinfo'));
            var checkinfo = JSON.parse(localStorage.getItem('checkinfo'));
            // read  check data
            $.ajax({
                url: 'PHP/CheckResultsReader.php',
                type: "POST",
                async: true,
                data: {
                    'ProjectName': projectinfo.projectname,
                    'CheckName': checkinfo.checkname
                },
                success: function (msg) {
                    var checkResults = JSON.parse(msg);

                    var comparisonCheckGroups = undefined;
                    var sourceAComplianceCheckGroups = undefined;
                    var sourceBComplianceCheckGroups = undefined;
                    var sourceAComparisonHierarchy = undefined;
                    var sourceBComparisonHierarchy = undefined;
                    var sourceAComplianceHierarchy = undefined;
                    var sourceBComplianceHierarchy = undefined;

                    for (var key in checkResults) {
                        if (!checkResults.hasOwnProperty(key)) {
                            continue;
                        }

                        if (key == 'Comparison') {
                            comparisonCheckGroups = new CheckGroups();
                            comparisonCheckGroups.restore(checkResults[key], false);
                        }
                        else if (key == 'SourceACompliance') {
                            sourceAComplianceCheckGroups = new CheckGroups();
                            sourceAComplianceCheckGroups.restore(checkResults[key], true);
                        }
                        else if (key == 'SourceBCompliance') {
                            sourceBComplianceCheckGroups = new CheckGroups();
                            sourceBComplianceCheckGroups.restore(checkResults[key], true);
                        }
                        else if (key == 'SourceAComparisonComponentsHierarchy') {
                            sourceAComparisonHierarchy = checkResults[key];
                        }
                        else if (key == 'SourceBComparisonComponentsHierarchy') {
                            sourceBComparisonHierarchy = checkResults[key];
                        }
                        else if (key == 'SourceAComplianceComponentsHierarchy') {
                            sourceAComplianceHierarchy = checkResults[key];
                        }
                        else if (key == 'SourceBComplianceComponentsHierarchy') {
                            sourceBComplianceHierarchy = checkResults[key];
                        }
                    }

                    // populate check results
                    populateCheckResults(comparisonCheckGroups,
                        sourceAComplianceCheckGroups,
                        sourceBComplianceCheckGroups,
                        sourceAComparisonHierarchy,
                        sourceBComparisonHierarchy,
                        sourceAComplianceHierarchy,
                        sourceBComplianceHierarchy);


                    // load analytics data
                    document.getElementById("analyticsContainer").innerHTML = '<object type="text/html" data="analyticsTotalCheckModule.html" style="height: 100%; width: 100%" ></object>';            
                },
                error: function (error) {
                    //alert('error; ' + eval(error));
                }
            });

        };


        function postData(comparisonCheckManager, sourceAComplianceCheckManager, sourceBComplianceCheckManager, AnalyticsData) {
            // post comparison data
            if (comparisonCheckManager) {
                $.ajax({
                    url: 'PHP/comparisonCheckpostDataWriter.1.php',
                    type: "POST",
                    async: true,
                    data: { "ComparisonCheckManager": JSON.stringify(comparisonCheckManager) },
                    success: function (data) {

                    }
                });
            }

            // post source A compliance data
            if (sourceAComplianceCheckManager) {
                $.ajax({
                    url: 'PHP/sourceAComplianceDataWriter.1.php',
                    type: "POST",
                    async: true,
                    data: { "SourceAComplianceCheckManager": JSON.stringify(sourceAComplianceCheckManager) },
                    success: function (data) {
                    }
                });
            }

            // post source B compliance data
            if (sourceBComplianceCheckManager) {
                $.ajax({
                    url: 'PHP/sourceBComplianceDataWriter.1.php',
                    type: "POST",
                    async: true,
                    data: { "SourceBComplianceCheckManager": JSON.stringify(sourceBComplianceCheckManager) },
                    success: function (data) {
                    }
                });
            }

            if (typeof AnalyticsData !== 'undefined') {
                $.ajax({
                    url: 'PHP/analyticsDetailsDataWriter.php',
                    type: "POST",
                    async: true,
                    data: { "AnalyticsDetailsData": JSON.stringify(AnalyticsData) },
                    success: function (data) {
                    }
                });
            }

        }

        function openViewTab(tabName) {
            var tabs = document.getElementsByClassName("viewContainerTab");
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].style.display = "none";
            }

            document.getElementById(tabName).style.display = "block";

            if (tabName === "AnalyticsTabPage") {
                document.getElementById("AnalyticsViewTab").style.backgroundColor = "#F3F0F4";
                document.getElementById("ChecksViewTab").style.backgroundColor = "lightgray";

                // window.open("/analyticsModule.html", 'popUpWindow', 'height=800,width=1500,left=100,top=100, status=yes');

                // analyticsManager = new AnalyticsManager();


            }
            else if (tabName === "ChecksTabPage") {
                document.getElementById("AnalyticsViewTab").style.backgroundColor = "lightgray";
                document.getElementById("ChecksViewTab").style.backgroundColor = "#F3F0F4";
            }
        }

        function setButtonsCollapsible() {
            // add event handler for collapsible rows
            var collapsibleRows = document.getElementsByClassName("collapsible");
            for (var i = 0; i < collapsibleRows.length; i++) {
                collapsibleRows[i].addEventListener("click", function () {
                    this.classList.toggle("active");
                    var content = this.nextElementSibling;
                    if (content.style.display === "block") {
                        content.style.display = "none";
                    } else {
                        content.style.display = "block";
                    }
                });
            }
        }

        function openCheckResultTab(tabName) {
            if(tabName=== currentlyOpenedTab)
            {
                return;
            }

            var tabs = document.getElementsByClassName("checkResultsContainerTab");
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].style.display = "none";
            }

            document.getElementById(tabName).style.display = "block";
            // // clear all contents of checksViewTable
            //var checksViewTable = document.getElementById("checksViewTable");

            // var viewerContainer1 = document.getElementById("viewerContainer1");
            // viewerContainer1.innerHTML = ""
            // for (var i = 0; i < viewerContainer1.children.length; i++) {
            //     var childElement = viewerContainer1.children[i];
            //     if (childElement.id !== "explodeOverlay1") {
            //         viewerContainer1.removeChild(childElement);
            //         i--;
            //     }
            //     else {
            //         childElement.style.display = "none";
            //         document.getElementById("explodeSlider1").value = 0;
            //     }
            // }

            // var viewerContainer2 = document.getElementById("viewerContainer2");
            // viewerContainer2.innerHTML = ""
            // for (var i = 0; i < viewerContainer2.children.length; i++) {
            //     var childElement = viewerContainer2.children[i];
            //     if (childElement.id !== "explodeOverlay2") {
            //         viewerContainer2.removeChild(childElement);
            //         i--;
            //     }
            //     else {
            //         childElement.style.display = "none";
            //         document.getElementById("explodeSlider2").value = 0;
            //     }
            // }

            // if(!$("#viewerContainer1").is(':empty') ) {
                if ($("#viewerContainer1").data("igGrid") !=null) {
                    $("#viewerContainer1").igGrid("destroy");
                }
            // }

            // if(!$("#viewerContainer2").is(':empty') ) {
                if ($("#viewerContainer2").data("igGrid") !=null) {
                    $("#viewerContainer2").igGrid("destroy");
                }
            // }

            if(!$("#ComparisonDetailedReviewCell").is(':empty') ) {
                if ($("#ComparisonDetailedReviewCell").data("igGrid") !=null) {
                    $("#ComparisonDetailedReviewCell").igGrid("destroy");
                }
            }

            if(!$("#SourceAComplianceDetailedReviewCell").is(':empty') ) {
                if ($("#SourceAComplianceDetailedReviewCell").data("igGrid") !=null) {
                    $("#SourceAComplianceDetailedReviewCell").igGrid("destroy");
                }
            }

            if(!$("#SourceBComplianceDetailedReviewCell").is(':empty') ) {
                if ($("#SourceBComplianceDetailedReviewCell").data("igGrid") !=null) {
                    $("#SourceBComplianceDetailedReviewCell").igGrid("destroy");
                }
            }

            if (tabName === "ComparisonTabPage") {
                currentlyOpenedTab = "ComparisonTabPage";
                var sourceAComplianceTab = document.getElementById("dataSource2ModelBrowserTab");
                sourceAComplianceTab.style.backgroundColor = "lightgray";
                var sourceBComplianceTab = document.getElementById("dataSource3ModelBrowserTab");
                sourceBComplianceTab.style.backgroundColor = "lightgray";
                var comparisonTab = document.getElementById("dataSource1ModelBrowserTab");
                comparisonTab.style.backgroundColor = "#F3F0F4"

                var comparisonDetailedReviewTab = document.getElementById("ComparisonDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "block";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceADetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceBDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";


                var sourceAViewerRow = document.getElementById(sourceAViewerContainerRowId);
                sourceAViewerRow.style.width = "100%";
                sourceAViewerRow.style.height = "50%";
                sourceAViewerRow.style.top = "40px";
                sourceAViewerRow.style.display = "block";

                var sourceBViewerRow = document.getElementById(sourceBViewerContainerRowId);
                sourceBViewerRow.style.width = "100%";
                sourceBViewerRow.style.height = "50%";
                sourceBViewerRow.style.top = "40px";
                sourceBViewerRow.style.display = "block";

                //clear highlighted row
                if (comparisonReviewManager) {
                    if (comparisonReviewManager.SelectedComponentRowFromSheetA) {
                        comparisonReviewManager.unhighlightSelectedSheetRow(comparisonReviewManager.checkStatusArrayA,
                            comparisonReviewManager.SelectedComponentRowFromSheetA);
                    }
                    if (comparisonReviewManager.SelectedComponentRowFromSheetB) {
                        comparisonReviewManager.unhighlightSelectedSheetRow(comparisonReviewManager.checkStatusArrayB,
                            comparisonReviewManager.SelectedComponentRowFromSheetB);
                    }
                    if (comparisonReviewManager.SelectionManager.HighlightedCheckComponentRow) {
                        comparisonReviewManager.SelectionManager.RemoveHighlightColor(comparisonReviewManager.SelectionManager.HighlightedCheckComponentRow);
                    }
                    if(comparisonReviewManager.SourceAViewerCurrentSheetLoaded !== undefined ||
                    comparisonReviewManager.SourceBViewerCurrentSheetLoaded !== undefined) {
                        comparisonReviewManager.SourceAViewerCurrentSheetLoaded = undefined;
                        comparisonReviewManager.SourceBViewerCurrentSheetLoaded = undefined;
                    }       
                }
            }
            else if (tabName === "SourceAComplianceTabPage") {
                currentlyOpenedTab = "SourceAComplianceTabPage";
                var sourceAComplianceTab = document.getElementById("dataSource2ModelBrowserTab");
                sourceAComplianceTab.style.backgroundColor = "#F3F0F4";
                var sourceBComplianceTab = document.getElementById("dataSource3ModelBrowserTab");
                sourceBComplianceTab.style.backgroundColor = "lightgray";
                var comparisonTab = document.getElementById("dataSource1ModelBrowserTab");
                comparisonTab.style.backgroundColor = "lightgray"

                var comparisonDetailedReviewTab = document.getElementById("ComparisonDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceADetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "block";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceBDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";

                var sourceAViewerRow = document.getElementById(sourceAViewerContainerRowId);
                sourceAViewerRow.style.width = "100%";
                sourceAViewerRow.style.height = "50%";
                sourceAViewerRow.style.margin = "auto";
                sourceAViewerRow.style.display = "block";

                var sourceBViewerRow = document.getElementById(sourceBViewerContainerRowId);
                sourceBViewerRow.style.display = "none";

                //clear highlighted row
                if (sourceAComplianceReviewManager) {
                    if (sourceAComplianceReviewManager.SelectedComponentRowFromSheetA) {
                        sourceAComplianceReviewManager.unhighlightSelectedSheetRow(sourceAComplianceReviewManager.checkStatusArray,
                            sourceAComplianceReviewManager.SelectedComponentRowFromSheetA);
                    }
                    if (sourceAComplianceReviewManager.SelectionManager.HighlightedCheckComponentRow) {
                        sourceAComplianceReviewManager.SelectionManager.RemoveHighlightColor(sourceAComplianceReviewManager.SelectionManager.HighlightedCheckComponentRow);
                    }
                    if(sourceAComplianceReviewManager.SourceAViewerCurrentSheetLoaded !== undefined) {
                        sourceAComplianceReviewManager.SourceAViewerCurrentSheetLoaded = undefined;
                    }       
                }
            }
            else if (tabName === "SourceBComplianceTabPage") {
                currentlyOpenedTab = "SourceBComplianceTabPage";
                var sourceAComplianceTab = document.getElementById("dataSource2ModelBrowserTab");
                sourceAComplianceTab.style.backgroundColor = "lightgray";
                var sourceBComplianceTab = document.getElementById("dataSource3ModelBrowserTab");
                sourceBComplianceTab.style.backgroundColor = "#F3F0F4";
                var comparisonTab = document.getElementById("dataSource1ModelBrowserTab");
                comparisonTab.style.backgroundColor = "lightgray"

                var comparisonDetailedReviewTab = document.getElementById("ComparisonDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceADetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceBDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "block";

                var sourceBViewerRow = document.getElementById(sourceBViewerContainerRowId);
                sourceBViewerRow.style.width = "100%";
                sourceBViewerRow.style.height = "50%";
                sourceBViewerRow.style.margin = "auto";
                sourceBViewerRow.style.display = "block";

                var sourceAViewerRow = document.getElementById(sourceAViewerContainerRowId);
                sourceAViewerRow.style.display = "none";

                //clear highlighted row
                if (sourceBComplianceReviewManager) {
                    if (sourceBComplianceReviewManager.SelectedComponentRowFromSheetB) {
                        sourceBComplianceReviewManager.unhighlightSelectedSheetRow(sourceBComplianceReviewManager.checkStatusArray,
                            sourceBComplianceReviewManager.SelectedComponentRowFromSheetB);
                    }
                    if (sourceBComplianceReviewManager.SelectionManager.HighlightedCheckComponentRow) {
                        sourceBComplianceReviewManager.SelectionManager.RemoveHighlightColor(sourceBComplianceReviewManager.SelectionManager.HighlightedCheckComponentRow);
                    }
                    if(sourceBComplianceReviewManager.SourceBViewerCurrentSheetLoaded !== undefined) {
                        sourceBComplianceReviewManager.SourceBViewerCurrentSheetLoaded = undefined;
                    } 
                }
            }

            // clear views before loading models into viewers
            if (typeof comparisonReviewManager !== 'undefined') {
                // clear viewer for XMl data source
                if (comparisonReviewManager.SourceAReviewViewerInterface &&
                    comparisonReviewManager.SourceAReviewViewerInterface.Viewer) {

                    comparisonReviewManager.SourceAReviewViewerInterface.Viewer.model.clear();
                }

                if (comparisonReviewManager.SourceBReviewViewerInterface &&
                    comparisonReviewManager.SourceBReviewViewerInterface.Viewer) {
                    comparisonReviewManager.SourceBReviewViewerInterface.Viewer.model.clear();
                }

            }
            if (typeof sourceAComplianceReviewManager !== 'undefined') {
                // clear viewer for XMl data source
                if (sourceAComplianceReviewManager.ReviewModuleViewerInterface &&
                    sourceAComplianceReviewManager.ReviewModuleViewerInterface.Viewer) {
                    sourceAComplianceReviewManager.ReviewModuleViewerInterface.Viewer.model.clear();
                }

            }
            if (typeof sourceBComplianceReviewManager !== 'undefined') {
                // clear viewer for XMl data source
                if (sourceBComplianceReviewManager.ReviewModuleViewerInterface &&
                    sourceBComplianceReviewManager.ReviewModuleViewerInterface.Viewer) {
                    sourceBComplianceReviewManager.ReviewModuleViewerInterface.Viewer.model.clear();
                }

            }

            // load data sources in viewer
            if (typeof comparisonReviewManager !== 'undefined' &&
                tabName === "ComparisonTabPage") {
                comparisonReviewManager.loadDatasources();
            }
            else if (typeof sourceAComplianceReviewManager !== 'undefined' &&
                tabName === "SourceAComplianceTabPage") {
                sourceAComplianceReviewManager.loadDatasource();
            }
            else if (typeof sourceBComplianceReviewManager !== 'undefined' &&
                tabName === "SourceBComplianceTabPage") {
                sourceBComplianceReviewManager.loadDatasource();
            }

            // stop all active translucencies, if any
            stopAllTranslucency();
        }

        function gotoCheckModule() {
            window.location = "checkModule.html";
            return false;
        }

        function closePopout() {
            if (this._poppedOutWindow) {
                this._poppedOutWindow.close();
                this._poppedOutWindow = null;
                this.returnViewer();
            }
        }


        function returnViewer(viewerdata) {
            // var container = document.getElementById("dataSourceViewer");
            viewerContainer = document.getElementsByClassName("viewContainerTab");
            viewerdata.style.width = "100%"
            viewerdata.style.height = "200px";
            viewerdata.style.margin = "auto";
            viewerdata.style.top = "120px";
            //margin: 20px 0 0 20px
            //viewerContainer[0].appendChild(viewerdata);
            viewerContainer[0].children[0].appendChild(viewerdata);
            var modalViewerContainer = viewerdata.getElementsByClassName("example-canvas-tiny");
            for (var i = 0; i < modalViewerContainer.length; i++) {

                var currentViewer = modalViewerContainer[i];
                if (document.getElementById("dataSource1ModelBrowserTab").style.backgroundColor !== "lightgray") {
                    currentViewer.style.width = "550px";
                    currentViewer.style.height = "270px";
                    //if (modalViewerContainer.length === 1) {
                    currentViewer.style.top = "0px";
                    //}
                }
                else {
                    currentViewer.style.width = "550px";
                    currentViewer.style.height = "405px";
                    //if (modalViewerContainer.length === 1) {
                    currentViewer.style.top = "70px";
                    //}
                }
            }

            // resize viewer canvas
            resizeHoopsViewerCanvas();
        };

        function OnFullScreen() {
            var modal = document.getElementById('maximizeViewerContainer');
            // When the user clicks the button, open the modal 
            modal.style.display = "block";
            if (document.getElementById("ChecksViewTab").style.backgroundColor === "rgb(243, 240, 244)") {
                var viewerdata = document.getElementById("checksViewTable")
                var modalViewer = document.getElementById("maximizeViewerContainer-content");
                modalViewer.innerHTML = "";
                modalViewer.appendChild(viewerdata);

                viewerdata.style.width = "100%";
                viewerdata.style.height = "100%";
                viewerdata.style.margin = "auto";
                modalViewer.style.marginLeft = "280px";


                var modalViewerContainer = viewerdata.getElementsByClassName("example-canvas-tiny");
                for (var i = 0; i < modalViewerContainer.length; i++) {
                    var currentViewer = modalViewerContainer[i];
                    currentViewer.style.width = "745px";
                    currentViewer.style.height = "370px";
                    currentViewer.style.top = "0px";
                    modalViewer.style.marginTop = "10px"

                    // if compliance viewer is being opened in fullscreen mode
                    if (document.getElementById("dataSource2ModelBrowserTab").style.backgroundColor !== "lightgray" ||
                        document.getElementById("dataSource3ModelBrowserTab").style.backgroundColor !== "lightgray") {
                        currentViewer.style.top = "0px";
                        modalViewer.style.marginTop = "195px"
                        modalViewer.style.width = "745px"
                        modalViewer.style.height = "370px"
                    }
                }

                // resize viewer canvas
                resizeHoopsViewerCanvas();
            }
            else if (document.getElementById("AnalyticsViewTab").style.backgroundColor === "rgb(243, 240, 244)") {
                // var analyticsContainerElement = document.getElementById("analyticsContainer");
                var modalViewer = document.getElementById("maximizeViewerContainer-content");
                document.getElementById("maximizeViewerContainer-content").innerHTML='<object type="text/html" data="analyticsFullModule.html" ></object>';
                // modalViewer.innerHTML = "";
                // modalViewer.appendChild(analyticsContainerElement);
                modalViewer.style.marginLeft = "20px";
                modalViewer.style.marginTop = "10px";
                modalViewer.style.height = "100%";
                modalViewer.style.width = "100%";
                
                var modalAnalyticsContainer = modalViewer.children[0]//modalViewer.getElementById("analyticsContainer");
                modalAnalyticsContainer.style.height = "100%";
                modalAnalyticsContainer.style.width = "165%";
                modalAnalyticsContainer.style.marginTop = "0px";
            }
        }

        function resizeHoopsViewerCanvas() {
            if (document.getElementById("ComparisonDetailedReviewTbody").style.display === "block" &&
                comparisonReviewManager !== undefined) {
                if (comparisonReviewManager.SourceAReviewViewerInterface &&
                    comparisonReviewManager.SourceAReviewViewerInterface.Viewer) {
                    comparisonReviewManager.SourceAReviewViewerInterface.Viewer.resizeCanvas();
                }
                if (comparisonReviewManager.SourceBReviewViewerInterface &&
                    comparisonReviewManager.SourceBReviewViewerInterface.Viewer) {
                    comparisonReviewManager.SourceBReviewViewerInterface.Viewer.resizeCanvas();
                }
            }
            else if (document.getElementById("ComplianceADetailedReviewTbody").style.display === "block" &&
                sourceAComplianceReviewManager !== undefined &&
                sourceAComplianceReviewManager.ReviewModuleViewerInterface &&
                sourceAComplianceReviewManager.ReviewModuleViewerInterface.Viewer) {
                sourceAComplianceReviewManager.ReviewModuleViewerInterface.Viewer.resizeCanvas();
            }
            else if (document.getElementById("ComplianceBDetailedReviewTbody").style.display === "block" &&
                sourceBComplianceReviewManager !== undefined &&
                sourceBComplianceReviewManager.ReviewModuleViewerInterface &&
                sourceBComplianceReviewManager.ReviewModuleViewerInterface.Viewer) {
                sourceBComplianceReviewManager.ReviewModuleViewerInterface.Viewer.resizeCanvas();
            }
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            var modal = document.getElementById('maximizeViewerContainer');
            if (event.target == modal) {
                if (document.getElementById("ChecksViewTab").style.backgroundColor === "rgb(243, 240, 244)") {
                    var viewerdata = document.getElementById("checksViewTable")
                    returnViewer(viewerdata);
                }
                else if (document.getElementById("AnalyticsViewTab").style.backgroundColor === "rgb(243, 240, 244)") {
                    var analyticsContainerElement = document.getElementById("analyticsContainer").innerHTML;
                    var analyticsDiv = document.createElement("DIV");
                    analyticsDiv.id = "analyticsContainer";
                    document.getElementById("AnalyticsTabPage").appendChild(analyticsDiv);
                    document.getElementById("analyticsContainer").innerHTML = analyticsContainerElement;
                    analyticsDiv.style.height = "110%";
                    analyticsDiv.style.width = "100%";
                    analyticsDiv.style.marginTop = "50px";
                    document.getElementById("ChecksTabPage").style.marginTop = "40px";

                    // document.getElementById("analyticsContainer").innerHTML='<object type="text/html" data="/analyticsModule.html" style="height: 100%; width: 100%" ></object>';
                }

                modal.style.display = "none";
            }

            var i = document.getElementById("menu").style;
            if (i.visibility === "visible") {
                i.visibility = "hidden";
                // currentViewer = undefined;
            }
        }

        anima_isHidden = function (e) {
            if (!(e instanceof HTMLElement)) return !1;
            if (getComputedStyle(e).display == "none") return !0; else if (e.parentNode && anima_isHidden(e.parentNode)) return !0;
            return !1;
        };
        anima_loadAsyncSrcForTag = function (tag) {
            var elements = document.getElementsByTagName(tag);
            var toLoad = [];
            for (var i = 0; i < elements.length; i++) {
                var e = elements[i];
                var src = e.getAttribute("src");
                var loaded = (src != undefined && src.length > 0 && src != 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==');
                if (loaded) continue;
                var asyncSrc = e.getAttribute("src");
                if (asyncSrc == undefined || asyncSrc.length == 0) continue;
                if (anima_isHidden(e)) continue;
                toLoad.push(e);
            }
            toLoad.sort(function (a, b) {
                return anima_getTop(a) - anima_getTop(b);
            });
            for (var i = 0; i < toLoad.length; i++) {
                var e = toLoad[i];
                var asyncSrc = e.getAttribute("src");
                e.setAttribute("src", asyncSrc);
            }
        };
        anima_pauseHiddenVideos = function (tag) {
            var elements = document.getElementsByTagName("video");
            for (var i = 0; i < elements.length; i++) {
                var e = elements[i];
                var isPlaying = !!(e.currentTime > 0 && !e.paused && !e.ended && e.readyState > 2);
                var isHidden = anima_isHidden(e);
                if (!isPlaying && !isHidden && e.getAttribute("autoplay") == "autoplay") {
                    e.play();
                } else if (isPlaying && isHidden) {
                    e.pause();
                }
            }
        };
        anima_loadAsyncSrc = function (tag) {
            anima_loadAsyncSrcForTag("img");
            anima_loadAsyncSrcForTag("iframe");
            anima_loadAsyncSrcForTag("video");
            anima_pauseHiddenVideos();
        };
        var anima_getTop = function (e) {
            var top = 0;
            do {
                top += e.offsetTop || 0;
                e = e.offsetParent;
            } while (e);
            return top;
        };
        anima_loadAsyncSrc();
        anima_old_onResize = window.onresize;
        anima_new_onResize = undefined;
        anima_updateOnResize = function () {
            if (anima_new_onResize == undefined || window.onresize != anima_new_onResize) {
                anima_new_onResize = function (x) {
                    if (anima_old_onResize != undefined) anima_old_onResize(x);
                    anima_loadAsyncSrc();
                };
                window.onresize = anima_new_onResize;
                setTimeout(function () {
                    anima_updateOnResize();
                }, 3000);
            }
        };
        anima_updateOnResize();
        setTimeout(function () {
            anima_loadAsyncSrc();
        }, 200);
    </script>
    <!-- End of Scripts -->
</body>

</html>