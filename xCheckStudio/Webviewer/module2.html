<!DOCTYPE html>
<html>

<head>
    <link href="CSS/ReferenceOverlay.css" rel="stylesheet" type="text/css"/>
    <link href="CSS/Dropdown.css" rel="stylesheet" type="text/css"/>
    <link href="CSS/ReferenceListStyle.css" rel="stylesheet" type="text/css"/>
   
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewModule.js"></script>

    <link rel="stylesheet" href="CSS\ContextMenu.css" type="text/css" />
    <link rel="stylesheet" href="CSS\jquery.contextMenu.min.css" type="text/css" />

    <link href="CSS\slider.css" rel="stylesheet" type="text/css" />
    <link href="images/UIPackage/favicon.png" rel="shortcut icon" />
    <meta charset="utf-8" />
    <meta content="width=1280, maximum-scale=1.0" name="viewport" />
    <link href="CSS/module2.css" rel="stylesheet" type="text/css" />
    <meta content="Launchpad by Anima" name="author">
    </meta>
    <!-- <script type="text/javascript" src="Javascripts\jquery\jquery-1.7.1.min.js"></script> -->
    <script type="text/javascript" src="Javascripts\jquery\jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="Javascripts\jquery\jquery.contextMenu.min.js"></script>

    <script type="text/javascript" src="Javascripts/hoops_web_viewer.js"></script>
    <script type="text/javascript" src="Javascripts/communicator_server_integration.js"></script>

    <script type="text/javascript" src="Javascripts\xCheckStudio\CheckResults.js"></script>
    <!-- <script type="text/javascript" src="Javascripts\xCheckStudio\CheckManager.js"></script> -->
    <script type="text/javascript" src="Javascripts\xCheckStudio\HighlightManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\Utility.js"></script>

    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewModuleViewerInterface.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ComparisonReviewManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ComplianceReviewManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReviewModuleStringCollection.js"></script>
    <link href="CSS\analytics.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="CSS\ViewStyle.css" type="text/css" />
    <!-- <link rel="stylesheet" href="CSS\Tablestyle.css" type="text/css" /> -->

    <link type="text/css" rel="stylesheet" href="Javascripts/jsgrid-1.5.3/css/jsgrid.css" />
    <link type="text/css" rel="stylesheet" href="Javascripts/jsgrid-1.5.3/css/theme.css" />
    <script type="text/javascript" src="Javascripts\jsgrid-1.5.3\dist\jsgrid.js"></script>

    <script type="text/javascript" src="Javascripts\xCheckStudio\GoogleCharts.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\GoogleLoaderCharts.js"></script>
    <!-- <script type="text/javascript" src="Javascripts\xCheckStudio\PDFExporter.js"></script> -->

    <script type="text/javascript" src="Javascripts\xCheckStudio\AnalyticsManager.js"></script>
    <script type="text/javascript" src="Javascripts\xCheckStudio\ReferenceManager.js"></script>

    <script type="text/javascript">
        // Load the Visualization API and the corechart package.
        google.charts.load('current', { 'packages': ['corechart'] });   
    </script>

    <style type="text/css">
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
        }

        /* The grid: Three equal columns that floats next to each other */
        .column {
            float: left;
            width: 50%;
            padding: 50px;
            text-align: center;
            font-size: 25px;
            cursor: pointer;
            color: white;
        }

        .checkResultsContainerTab {
            padding: 20px;
            color: black;
            overflow: auto;
        }

        .viewContainerTab {
            color: white;
        }

        /* Clear floats after the columns */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }

        /* Closable button inside the container tab */
        .closebtn {
            float: right;
            color: white;
            font-size: 35px;
            cursor: pointer;

        }

        .collapsible {
            background-color: #fff;
            cursor: pointer;
            width: 100%;
            left: 6px;
            height: 20px;
            margin-bottom: 1px;
            border: none;
            text-align: left;
            border: solid 0.5px;
            outline: none;
            font-family: "Helvetica-Bold, Helvetica, Arial, serif";
            font-size: 12px;
        }

        .active,
        .collapsible:hover {
            background-color: lightgray;
        }

        .content {
            padding: 0 18px;
            display: none;
            overflow: hidden;
            background-color: #f1f1f1;
        }

        img.button_open {
            content: url('images/button-open.png');
            cursor: pointer;
        }

        img.button_closed {
            content: url('images/button-closed.png');
            cursor: pointer;
        }

        .scrollable {
            overflow-x: auto;
            overflow-y: auto;
        }

        #ComparisonMainReviewCell,
        #SourceAComplianceMainReviewCell,
        #SourceBComplianceMainReviewCell {
            font-size: 8px;
        }

        #ComparisonDetailedReviewCell,
        #SourceAComplianceDetailedReviewCell,
        #SourceBComplianceDetailedReviewCell {
            font-size: 8px;
        }

        #viewerContainer1,
        #viewerContainer2 {
            font-size: 8px;
            color: #000;
        }

        td {
            height: 10px;
        }

        /* The Modal (background) */
        .modal {
            display: none;
            /* Hidden by default */
            position: absolute;
            /* Stay in place */
            z-index: 1;
            padding: auto;
            /* Location of the box */
            width: 1280px;
            /* Full width */
            height: 760px;
            /* Full height */
            margin: 0 432px 0 0;
            top: 0px;
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
        }

        /* Modal Content */
        .modal-content {
            background-color: #fefefe;
            border: 1px solid #888;
            width: 750px;
            height: 740px;
            margin-left: 250px;
            margin-top: 214px;
        }

        /* The Close Button */
        .close {
            color: #aaaaaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .jsgrid-cell {
            word-wrap: break-word;
        }

        .disable {
            pointer-events: none;
            opacity: 0.4;
        }

        .disable div,
        .disable textarea {
            overflow: hidden;
        }
        
    </style>
</head>

<body style="margin: 0;
 background: rgba(255, 255, 255, 1.0);">

    <!-- reference overlay div -->
    <div id="referenceOverlay" class="overlay"></div>
    <div id="referebcePopup" class="popup">
        <div class="popupcontrols" style="height: 5%; width: 100%;">
            <span id="referencePopupclose" class="popupclose">X</span>
        </div>
        <div class="popupcontent" style="height: 90%; width: 100%;">                 
              
            <table width="100%" height="100%">
                <tr>
                    <td width="10%" height="100%" style="vertical-align:top">
                        <div class="dropdown">
                            <button onclick="toggleDropdown()" class="dropbtn">New Reference</button>
                            <div id="newReferenceDropdown" class="dropdown-content">
                                <a href="#webAddress" id="addWebAddressBtn">Web Address</a>
                                <a href="#document"   id="addDocumentBtn">Document</a>
                                <a href="#picture" id="addPictureBtn">Picture</a>
                                <a href="#predefinedUser"  id="addUserBtn">Predefined User</a>
                            </div>
                        </div>
                    </td>
                    <td width="90%" height="100%" style="vertical-align:top">
                          
                        <div id="referenceContents"  style="width:100%; height:100%; overflow-x: scroll; overflow-y:scroll">
                            <ol id="referenceList">
                                <li>Web Address
                                    <ul id="webAddressList">
                                    </ul>
                                </li>
                                <li>Document
                                    <ul id="documentList">
                                    </ul>                                
                                </li>
                                <li>Picture
                                    <ul id="pictureList">
                                    </ul>    
                                </li>
                                <li>User
                                    <ul id="userList">
                                    </ul> 
                                </li>
                            </ol>
                        </div>                     
                    </td>
                </tr>
            </table>
                             
                <!-- Enter web address overlay -->
                <div id="addAddressOverlay" class="overlay"></div>
                <div id="addAddressPopup" class="popup" style="height: 80px;">
                    <div class="popupcontent" style="padding: 10px; ">
                        <textarea id="webAddressInput" style="resize: none; width:100%;"></textarea>
                        <button id="addAddress">Add</button>
                        <button id="CancelAddAddress">Cancel</button>
                    </div>
                </div>
                
                <!-- Add Document overlay -->
                <div id="addDocumentOverlay" class="overlay"></div>
                <div id="addDocumentPopup" class="popup" style="height: 100px;">
                    <div class="popupcontent" style="padding: 10px; ">
                        <form id="UploadReferenceDocForm" action="UploadReferenceDoc.php" method="post" enctype="multipart/form-data">
                            Select Document to upload:
                            <input type="file" name="fileToUpload" id="fileToUpload" accept=".xml, .XML, .pdf, .PDF, .txt, .TXT">
                        </form>
                        <br>
                        <button id="UploadRefernceDocumentBtn">Add</button>
                        <button id="CancelAddDocument">Cancel</button>
                    </div>
                </div>
                
                <!-- Add Picture overlay -->
                <div id="addPictureOverlay" class="overlay"></div>
                <div id="addPicturePopup" class="popup" style="height: 100px;">
                    <div class="popupcontent" style="padding: 10px; ">
                        <form id="UploadReferencePicForm" action="UploadReferenceDoc.php" method="post" enctype="multipart/form-data">
                            Select Document to upload:
                            <input type="file" name="fileToUpload" id="picToUpload" accept=".jpg, .jpeg, .jpe, .bmp, .gif, .tif, .png">
                        </form>
                        <br>
                        <button id="UploadReferncePicBtn">Add</button>
                        <button id="CancelAddPic">Cancel</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
        
    <div id="menu">
        <a href="#" onclick="hide()">
            <img src="images/hide.png" />Hide
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="showAll()">
            <img src="images/show.png" /> Show All
            <!-- <span>Ctrl + ?!</span> -->
        </a>

        <hr />
        <a href="#" onclick="setFront()">
            Front
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="setBack()">
            Back
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="setTop()">
            Top
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="setBottom()">
            Bottom
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="setRight()">
            Right
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="setLeft()">
            Left
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="setISO()">
            ISO
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <hr />

        <a href="#" onclick="startExplode()">
            Start Explode
            <!-- <span>Ctrl + ?!</span> -->
        </a>
        <a href="#" onclick="stopExplode()">
            Stop Explode
            <!-- <span>Ctrl + ?!</span> -->
        </a>

    </div>

    <input id="anPageName" name="page" type="hidden" value="module2" />
    <div class="module2">
        <div style="width: 1280px; height: 100%; position:relative; margin:auto;">
            <div class="bg">
                <div class="bg2">
                </div>
                <img src="images/UIPackage/landing-page-symbol.png" class="symbol" />
            </div>
            <div class="header">
                <div class="bg2">
                </div>
                <a href="https://www.help.com/" target="_blank">
                    <div class="helpbtn">
                        <img src="images/UIPackage/module2-bg 2@2x.png" class="bg3" />
                        <img src="images/UIPackage/prep-home-page-icon@2x.png" class="icon" />
                    </div>
                </a>
                <div class="savebtn">
                    <img src="images/UIPackage/module2-bg 2@2x.png" class="bg3" />
                    <img src="images/UIPackage/prep-create-a-configuration-page-icon 1@2x.png" class="icon" />
                </div>
                <div class="refreshbtn" onclick="gotoCheckModule()">
                    <img src="images/UIPackage/module2-bg 2@2x.png" class="bg3" />
                    <img src="images/UIPackage/module2-icon 2@2x.png" class="icon" />
                </div>
                <!--<div class="search">
                        <div class="bg3">
                        </div>
                        <div class="typeu2026">
                            Type…
                        </div>
                        <img src="/images/UIPackage/create-project-with-open-menu-search-icon@2x.png" class="searchicon" />
                    </div>-->
                <div class="search">
                    <div class="bg3">
                    </div>
                    <input class="typeu2026" id="searchtext" type="text" placeholder="Type..">
                    <img src="images/UIPackage/create-project-with-open-menu-search-icon@2x.png" class="searchicon" />
                </div>
                <div class="logo">
                    <img src="images/UIPackage/module2-with-open-menu-check@2x.png" class="check" />
                    <img src="images/UIPackage/landing-page-studio@2x.png" class="studio" />
                    <img src="images/UIPackage/module1-symbol 1@2x.png" class="symbol" />
                </div>
            </div>
            <div class="group2">
                <div class="bg2">
                </div>
                <div id="ComparisonDetailedReviewTbody" class="table"
                    style='height:202px;display:none; width: 579px;display:block;'>
                    <!-- <div class="bg3">
                        </div> -->
                    <div class="comments">
                    </div>
                    <div class="adescriptionvalue">
                    </div>
                    <div id="ComparisonDetailedReviewCell" style="border:none; width: 579px; height: 150px"></div>
                    <div id="ComparisonDetailedReviewComment"
                        style="border:none; width: 579px; height:20px; font-size: 10px"></div>
                </div>
                <div id="ComplianceADetailedReviewTbody" class="table" style='height:202px;display:none;'>
                    <!-- <div class="bg3">
                            </div> -->
                    <div class="comments">
                    </div>
                    <div class="adescriptionvalue">
                    </div>
                    <div id="SourceAComplianceDetailedReviewCell" style="border:none; width: 579px; height: 150px">
                    </div>
                    <div id="SourceAComplianceDetailedReviewComment"
                        style="border:none; width: 579px; height:20px; font-size: 10px"></div>
                </div>
                <div id="ComplianceBDetailedReviewTbody" class="table" style='height:202px;display:none;'>
                    <!-- <div class="bg3">
                        </div> -->
                    <div class="comments">
                    </div>
                    <div class="adescriptionvalue">
                    </div>
                    <div id="SourceBComplianceDetailedReviewCell" style="border:none; width: 579px; height: 150px">
                    </div>
                    <div id="SourceBComplianceDetailedReviewComment"
                        style="border:none; width: 579px; height:20px; font-size: 10px"></div>
                </div>
            </div>

            <!-- <img src="/images/UIPackage/module2-bg 3.png" class="bg1" /> -->
            <div class="bg1">
                <!-- <img src="/images/UIPackage/module2-with-open-menu-bitmap.png" class="bitmap" /> -->
                <div class="bitmap">
                    <!--Checks Tab Page-->
                    <div id="ChecksTabPage" class="viewContainerTab"
                        style="width: 100%; height: 110%; display: block;margin-top: 40px;">
                        <!-- <span onclick="this.parentElement.style.display='none'" style="color: black" class="closebtn">&times;</span> -->
                        <div style="height:100%">
                            <table id="checksViewTable"
                                style="width: 100%; height: 200px; margin: auto; overflow: scroll;">

                                <tbody>
                                    <!-- comparison source A viewer -->
                                    <tr id="sourceAContainerRow" style="width: 450px; height: 50%; top: 40px;">
                                        <td style="border-style: none;">

                                            <div class="example-canvas-tiny" id="viewerContainer1"
                                                style="width: 550px; height: 270px; min-width: 200px; border-style: none;">
                                                <div id="overlay1" class="sliderOverlay">
                                                    <div class="slidecontainer" style="color:rgba(0, 0, 0, 1)">
                                                        <input type="range" min="0" max="10" value="0" step="0.5"
                                                            class="slider" id="explodeSlider1">
                                                        <p><span id="explodeValue1"></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>

                                    <!-- comparison source B viewer -->
                                    <tr id="sourceBContainerRow" style="width: 450px; height: 50%; top: 40px;">
                                        <td style="border-style: none;">

                                            <div class="example-canvas-tiny" id="viewerContainer2"
                                                style="width: 550px; height: 270px; min-width: 200px; border-style: none;">
                                                <div id="overlay2" class="sliderOverlay">
                                                    <div class="slidecontainer" style="color:rgba(0, 0, 0, 1)">
                                                        <input type="range" min="0" max="10" value="0" step="0.5"
                                                            class="slider" id="explodeSlider2">
                                                        <p> <span id="explodeValue2"></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>


                                </tbody>

                            </table>
                        </div>
                    </div>
                    <!--Analytics Tab Page-->
                    <div id="AnalyticsTabPage" class="viewContainerTab"
                        style="  width: 100%; height: 100%;  display: none">
                        <!-- <span onclick="this.parentElement.style.display='none'" style="color: black" class="closebtn">&times;</span> -->
                        <div id="analyticsContainer" style="margin-top: 50px; height: 110%; width: 100%;"> </div>
                    </div>
                </div>
                <div class="white1">
                    <!-- <img src="/images/UIPackage/module2-bg 7.png" class="bg2" /> -->
                    <div class="panel">
                        <div class="bg3">
                        </div>
                    </div>
                    <div class="tab1" onclick="openViewTab('ChecksTabPage');" style="cursor: pointer;">
                        <!-- <img src="/images/UIPackage/module2-with-open-menu-tab 2@2x.png" class="tab2" /> -->
                        <div class="tab2" id="ChecksViewTab" style=" background-color: #F3F0F4; cursor: pointer;">
                            <div class="checks" onclick="openViewTab('ChecksTabPage');">
                                Checks
                            </div>
                        </div>
                    </div>

                    <div class="tab" onclick="openViewTab('AnalyticsTabPage');" tyle="cursor: pointer;">
                        <!-- <img src="/images/UIPackage/module2-tab 3@2x.png" class="tab1" /> -->
                        <div class="tab1" id="AnalyticsViewTab" style=" background-color: lightgray; cursor: pointer;">
                            <div class="analytics" onclick="openViewTab('AnalyticsTabPage');">
                                Analytics
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="btn-view">
                <div class="review">
                    REVIEW
                </div>
                <!-- <a href="module2withopenmenu.html"> -->
                <div class="btn1">
                    <img src="images/UIPackage/landing-page-bg 1@2x.png" class="bg2" />
                    <img src="images/UIPackage/module2-icon-review@2x.png" class="iconreview" />
                </div>
                <!-- </a> -->
                <img src="images/UIPackage/create-project-arrow@2x.png" class="arrow" />
            </div>
            <div class="footer">
                <div class="bg2">
                </div>
                <div class="inforight">
                    <div class="user">
                        USER
                    </div>
                    <img src="images/UIPackage/create-project-with-open-menu-bg 2@2x.png" class="bg3" />
                    <div class="path">
                        <img src="images/UIPackage/landing-page-path@2x.png" class="path1" />
                    </div>
                    <div class="pierre" id="pierre">
                        Pierre
                    </div>
                </div>
            </div>
            <div class="infoleft">
                <div class="project">
                    PROJECT:
                </div>
                <div class="powerplant" id="powerplant">
                    PowerPlant
                </div>
            </div>
            <div class="infomid">
                <div class="units">
                    UNITS:
                </div>

                <select class="mks">
                    <option class="options">Custom</option>
                    <option class="options">Metric</option>
                    <option class="options">Imperial</option>
                </select>
                <!--<img src="/images/UIPackage/module1-with-open-menu-triangle 2@2x.png" class="triangle" />-->
            </div>
            <div class="group3">
                <div class="group1">
                    <div id="ComparisonTabPage" class="checkResultsContainerTab" style="display:block;">
                        <div id="ComparisonMainReviewTbody" class="table1"
                            style='top:10px; height:275px; width: 592px; display:block;overflow-y:scroll;overflow-x: hidden'>
                            <div id="ComparisonMainReviewCell"
                                style="text-align:left; vertical-align:top;width: 575px; height: 275px; border:none">
                            </div>
                        </div>
                    </div>
                    <div id="SourceAComplianceTabPage" class="checkResultsContainerTab" style="display:none;">
                        <div id="SourceAComplianceMainReviewTbody" class="table1"
                            style='top:10px; height:275px; width: 592px; display:block;overflow-y:scroll;overflow-x: hidden'>
                            <div id="SourceAComplianceMainReviewCell"
                                style="text-align:left; vertical-align:top;width: 575px; height: 275px; border:none">
                            </div>
                        </div>
                    </div>
                    <div id="SourceBComplianceTabPage" class="checkResultsContainerTab" style="display:none;">
                        <div id="SourceBComplianceMainReviewTbody" class="table1"
                            style='top:10px; height:275px; width: 592px; display:block;overflow-y:scroll;overflow-x: hidden'>
                            <div id="SourceBComplianceMainReviewCell"
                                style="text-align:left; vertical-align:top;width: 575px; height: 275px; border:none">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="white">
                    <!-- <img src="/images/UIPackage/module2-bg 6.png" class="bg2" /> -->
                    <div class="panel">
                        <div class="bg3">
                        </div>
                    </div>
                    <div class="sourceatab" id="sourceatab">
                        <img src="images/UIPackage/module2-tab 1@2x.png" class="tab1" />
                    </div>
                    <div class="sourceatab" id="tab1Parent" onclick="openCheckResultTab('ComparisonTabPage');"
                        style="cursor: pointer;">
                        <div class="tab1" id="tab1">
                            <div id="dataSource1ModelBrowserTab" style="text-align: center; background-color: #F3F0F4;">
                                Comparison
                            </div>
                        </div>
                    </div>

                    <div class="sourcebtab" id="sourcebtab">
                        <img src="images/UIPackage/module2-tab 1@2x.png" class="tab2" />
                    </div>
                    <div class="sourcebtab" id="tab2Parent" onclick="openCheckResultTab('SourceAComplianceTabPage');"
                        style="cursor: pointer;">
                        <div class="tab2" id="tab2" style="cursor: pointer;">
                            <div id="dataSource2ModelBrowserTab"
                                style="text-align: center; background-color: lightgray">
                                Compliance A
                            </div>
                        </div>
                    </div>

                    <div class="sourcectab" id="sourcectab">
                        <img src="images/UIPackage/module2-tab 1@2x.png" class="tab3" />
                    </div>
                    <div class="sourcectab" id="tab3Parent" onclick="openCheckResultTab('SourceBComplianceTabPage');"
                        style="cursor: pointer;">
                        <div class="tab3" id="tab3">
                            <div id="dataSource3ModelBrowserTab"
                                style="text-align: center; background-color: lightgray">
                                Compliance B
                            </div>
                        </div>
                    </div>

                    <button type="button" class = "buttonset" onclick="acceptAllCategories()" style="text-align: center; background-color: lightgray">Accept All</button>
                    <button type="button" class = "buttonreset" onclick="resetAllCategories()" style="text-align: center; background-color: lightgray">Reset</button>
                </div>

            </div>
            <div class="group">
                <div class="iconfullscreenfilled" onclick="OnFullScreen()" onMouseOver="this.style.cursor='pointer'">
                    <img src="images/UIPackage/module1-icon--fullscreen--filled@2x.png"
                        class="iconfullscreenfilled1" />
                </div>
                <div class="iconfullscreenexitfilled">
                    <img src="images/UIPackage/module2-icon--fullscreen-exit--filled@2x.png"
                        class="iconfullscreenexitfilled1" />
                </div>
                <div class="icon1" onclick="onSaveProject()">
                    <img src="images/UIPackage/module1-icon-3-bg2@2x.png" class="icon1bg2" />
                    <img src="images/UIPackage/module2-with-open-menu-icon-1-bg1@2x.png" class="icon1bg1" />
                    <img src="images/UIPackage/module2-with-open-menu-icon-1-black@2x.png" class="icon1black" />
                </div>
                <div class="icon3" onclick="onHomeClick()">
                    <img src="images/UIPackage/module1-icon-3-bg2@2x.png" class="icon3bg2" />
                    <img src="images/UIPackage/module1-with-open-menu-icon-3-black@2x.png" class="icon3black" />
                </div>
            </div>
            <!-- The Modal -->
            <div id="maximizeViewerContainer" class="modal">
                <!-- Modal content -->
                <div class="modal-content" id="maximizeViewerContainer-content"
                    style="width: 750px; height: 740px; margin-left: 280px; margin-top: 5px;">

                </div>
            </div>
        </div>

    </div>
    <!-- Scripts -->
    <script>

        document.addEventListener("contextmenu", function (e) {
            e.preventDefault();
        }, false);


        var hiidenEntities = [];
        function hide() {
            if (currentViewer) {

                var results = currentViewer.selectionManager.getResults();
                //currentViewer.model.setNodesVisibilities(boolMap);
                var map = {};
                for (var i = 0; i < results.length; i++) {
                    var selectedItem = results[i];
                    map[selectedItem._nodeId] = false;
                    hiidenEntities.push(selectedItem._nodeId);
                }

                currentViewer.model.setNodesVisibilities(map);
            }
        }

        function showAll() {
            if (currentViewer && hiidenEntities.length > 0) {
                var map = {};
                for (var i = 0; i < hiidenEntities.length; i++) {
                    var hiddenEntity = hiidenEntities[i];
                    map[hiddenEntity] = true;
                }

                currentViewer.model.setNodesVisibilities(map);
                hiidenEntities = [];
            }
        }

        function startExplode() {
            if (currentViewer) {
                var slider;
                var outputFiled;
                var overlayField;
                if (currentViewer._params.containerId === "viewerContainer1") {
                    slider = document.getElementById("explodeSlider1");
                    outputFiled = document.getElementById("explodeValue1");
                    overlayField = document.getElementById("overlay1");

                    //overlayField.style.top = "50px";
                }
                else if (currentViewer._params.containerId === "viewerContainer2") {
                    slider = document.getElementById("explodeSlider2");
                    outputFiled = document.getElementById("explodeValue2");
                    overlayField = document.getElementById("overlay2");

                    if (document.getElementById("ComparisonTabPage").style.display === 'block') {
                        //overlayField.style.top = "330px";
                    }
                    else {
                        //overlayField.style.top = "50px";
                    }
                }
                if (!slider || !outputFiled || !overlayField) {
                    return;
                }

                overlayField.style.display = "block";

                outputFiled.innerHTML = slider.value;
                overlayField.style.bottom = "55px";
                //overlayField.style.right = "10px";
                //overlayField.style.top = overlayField.parentElement.style.height -  overlayField.style.height;
                //overlayField.style.left = overlayField.parentElement.style.width -  overlayField.style.width;

                slider.oninput = function () {
                    outputFiled.innerHTML = this.value;

                    if (document.getElementById("ComparisonTabPage").style.display === 'block') {
                        if (this.id === "explodeSlider1") {
                            currentViewer = comparisonReviewManager.SourceAReviewModuleViewerInterface.Viewer;
                        }
                        else if (this.id === "explodeSlider2") {
                            currentViewer = comparisonReviewManager.SourceBReviewModuleViewerInterface.Viewer;
                        }
                    }
                    else if (document.getElementById("SourceAComplianceTabPage").style.display === 'block') {
                        currentViewer = sourceAComplianceReviewManager.ReviewModuleViewerInterface.Viewer;
                    }
                    else if (document.getElementById("SourceBComplianceTabPage").style.display === 'block') {
                        currentViewer = sourceBComplianceReviewManager.ReviewModuleViewerInterface.Viewer;
                    }


                    if (currentViewer) {
                        var explodeManager = currentViewer.getExplodeManager();
                        if (explodeManager.getActive()) {
                            explodeManager.stop();
                        }

                        explodeManager.setMagnitude(Number(this.value));
                        explodeManager.start().then(function () {

                        });
                    }

                }
            }
        }

        function stopExplode() {

            if (currentViewer) {
                var explodeManager = currentViewer.getExplodeManager();
                if (explodeManager.getActive()) {
                    explodeManager.stop();
                }

                var slider;
                var overlayField;
                if (currentViewer._params.containerId === "viewerContainer1") {
                    slider = document.getElementById("explodeSlider1");
                    overlayField = document.getElementById("overlay1");
                }
                else if (currentViewer._params.containerId === "viewerContainer2") {
                    slider = document.getElementById("explodeSlider2");
                    overlayField = document.getElementById("overlay2");
                }
                if (!slider || !overlayField) {
                    return;
                }
                slider.value = 0;
                overlayField.style.display = "none";
            }
        }

        function setFront() {
            if (currentViewer) {
                currentViewer.view.setViewOrientation(Communicator.ViewOrientation.Front, Communicator.DefaultTransitionDuration);
            }
        }
        function setBack() {
            if (currentViewer) {
                currentViewer.view.setViewOrientation(Communicator.ViewOrientation.Back, Communicator.DefaultTransitionDuration);
            }
        }
        function setTop() {
            if (currentViewer) {
                currentViewer.view.setViewOrientation(Communicator.ViewOrientation.Top, Communicator.DefaultTransitionDuration);
            }
        }
        function setBottom() {
            if (currentViewer) {
                currentViewer.view.setViewOrientation(Communicator.ViewOrientation.Bottom, Communicator.DefaultTransitionDuration);
            }
        }
        function setRight() {
            if (currentViewer) {
                currentViewer.view.setViewOrientation(Communicator.ViewOrientation.Right, Communicator.DefaultTransitionDuration);
            }
        }
        function setLeft() {
            if (currentViewer) {
                currentViewer.view.setViewOrientation(Communicator.ViewOrientation.Left, Communicator.DefaultTransitionDuration);
            }
        }
        function setISO() {
            if (currentViewer) {
                currentViewer.view.setViewOrientation(Communicator.ViewOrientation.Iso, Communicator.DefaultTransitionDuration);
            }
        }

        var analyticsManager;
        var currentlyOpenedTab;
        var comparisonReviewManager;
        var sourceAComplianceReviewManager;
        var sourceBComplianceReviewManager;
        window.onload = function () {
            var _this = this;

            // set project name
            setProjectName();

            // set user name
            setUserName();

            // read  check data
            $.ajax({
                url: 'PHP/CheckResultsReader.php',
                type: "POST",
                async: true,
                data: {},
                success: function (msg) {
                    var checkResults = JSON.parse(msg);

                    var comparisonCheckGroups = undefined;
                    var sourceAComplianceCheckGroups = undefined;
                    var sourceBComplianceCheckGroups = undefined;

                    for (var key in checkResults) {
                        if (!checkResults.hasOwnProperty(key)) {
                            continue;
                        }

                        if (key == 'Comparison') {
                            comparisonCheckGroups = new CheckGroups();
                            comparisonCheckGroups.restore(checkResults[key], false);
                        }
                        else if (key == 'SourceACompliance') {
                            sourceAComplianceCheckGroups = new CheckGroups();
                            sourceAComplianceCheckGroups.restore(checkResults[key], true);
                        }
                        else if (key == 'SourceBCompliance') {
                            sourceBComplianceCheckGroups = new CheckGroups();
                            sourceBComplianceCheckGroups.restore(checkResults[key], true);
                        }
                    }

                    // populate check results
                    populateCheckResults(comparisonCheckGroups,
                        sourceAComplianceCheckGroups,
                        sourceBComplianceCheckGroups);

                    // load analytics data
                    document.getElementById("analyticsContainer").innerHTML = '<object type="text/html" data="analyticsModule.html" style="height: 100%; width: 100%" ></object>';
                },
                error: function (error) {
                    //alert('error; ' + eval(error));
                }
            });

            $.contextMenu({
                selector: '.jsgrid-row, .jsgrid-alt-row, BUTTON',
                build : function($triggerElement, e){ 
                    var selectedRow = $triggerElement;
                    var accept = true;
                    accept = chooseAction(selectedRow);
                    var conditionalName = (accept) ? 'Accept' : 'Unaccept';
                    return {
                        callback: function(key, options){
                            if (key === "menuItem") {
                                if(options.items[key].name == "Accept")
                                    onAcceptClick(this);
                                else
                                    onUnAcceptClick(this);
                            }
                            else if (key === "transpose") {
                            }
                            else if (key === "freeze") {
                            }
                            else if (key === "reference") {
                                onReferenceClick(this);
                            }
                        },
                        items: {
                            menuItem: 
                            {
                                name: conditionalName,
                                disabled: function()
                                {
                                    var selectedRow = this;
                                    
                                    if(selectedRow[0].nodeName == "BUTTON") { 
                                        var typeOfRow = selectedRow[0].offsetParent.id;
                                        var groupId = selectedRow[0].attributes[0].value;
                                        if(typeOfRow == "ComparisonMainReviewTbody" || typeOfRow == "ComparisonDetailedReviewTbody") { 
                                            if(comparisonReviewManager.ComparisonCheckManager["CheckGroups"][groupId].categoryStatus == 'OK') {
                                                return true;
                                            }
                                        }
                                        else if(typeOfRow == "SourceAComplianceMainReviewTbody" || typeOfRow == "ComplianceADetailedReviewTbody") { 
                                            if(sourceAComplianceReviewManager.ComplianceCheckManager["CheckGroups"][groupId].categoryStatus == 'OK') {
                                                return true;
                                            }
                                        }
                                        else if(typeOfRow == "SourceBComplianceMainReviewTbody" || typeOfRow == "ComplianceBDetailedReviewTbody") {
                                            if(sourceBComplianceReviewManager.ComplianceCheckManager["CheckGroups"][groupId].categoryStatus == 'OK') {
                                                return true;
                                            }
                                        }
                                    }
                                    else {
                                        var typeOfRow = selectedRow[0].offsetParent.offsetParent.offsetParent.id;
                                        if(typeOfRow == "ComparisonMainReviewTbody" || typeOfRow == "ComparisonDetailedReviewTbody") {
                                            if(selectedRow[0].cells[2].innerHTML == "OK" || selectedRow[0].cells[4].innerHTML == "OK") {
                                                return true;
                                            }
                                        }
                                        else if(typeOfRow == "SourceAComplianceMainReviewTbody" || typeOfRow == "ComplianceADetailedReviewTbody" || 
                                        typeOfRow == "SourceBComplianceMainReviewTbody" || typeOfRow == "ComplianceBDetailedReviewTbody") {
                                            if(selectedRow[0].cells[1].innerHTML == "OK" || selectedRow[0].cells[2].innerHTML == "OK") {
                                                return true;
                                            }
                                        }   
                                    }
                                }
                            },
                            "transpose": {
                                name: "Transpose",
                            },
                            "freeze": {
                                name: "Freeze",
                            },
                            "reference": {
                                name: "Reference",
                            }
                        }
                    };
                }
            });

        };

        function chooseAction(selectedRow) {
            if(selectedRow[0].nodeName == "BUTTON") { 
                var typeOfRow = selectedRow[0].offsetParent.id;
                var groupId = selectedRow[0].attributes[0].value;
                if(typeOfRow == "ComparisonMainReviewTbody" || typeOfRow == "ComparisonDetailedReviewTbody") { 
                    if(comparisonReviewManager.ComparisonCheckManager["CheckGroups"][groupId].categoryStatus == 'ACCEPTED') {
                        return false;
                    } else { return true; }
                }
                else if(typeOfRow == "SourceAComplianceMainReviewTbody" || typeOfRow == "ComplianceADetailedReviewTbody") { 
                    if(sourceAComplianceReviewManager.ComplianceCheckManager["CheckGroups"][groupId].categoryStatus == 'ACCEPTED') {
                        return false;
                    }else { return true; }
                }
                else if(typeOfRow == "SourceBComplianceMainReviewTbody" || typeOfRow == "ComplianceBDetailedReviewTbody") {
                    if(sourceBComplianceReviewManager.ComplianceCheckManager["CheckGroups"][groupId].categoryStatus == 'ACCEPTED') {
                        return false;
                    }else { return true; }
                }
            }
            else {
                var typeOfRow = selectedRow[0].offsetParent.offsetParent.offsetParent.id;
                if(typeOfRow == "ComparisonMainReviewTbody" || typeOfRow == "ComparisonDetailedReviewTbody") {
                    if(selectedRow[0].cells[2].innerHTML == "ACCEPTED" || selectedRow[0].cells[4].innerHTML == "ACCEPTED") {
                        return false;
                    }else { return true; }
                }
                else if(typeOfRow == "SourceAComplianceMainReviewTbody" || typeOfRow == "ComplianceADetailedReviewTbody" || 
                typeOfRow == "SourceBComplianceMainReviewTbody" || typeOfRow == "ComplianceBDetailedReviewTbody") {
                    if(selectedRow[0].cells[1].innerHTML == "ACCEPTED" || selectedRow[0].cells[2].innerHTML == "ACCEPTED") {
                        return false;
                    } else { return true; }
                }   
            }                       
        }

        function onAcceptClick(rowClicked) {
            var selectedRow = rowClicked;
            var typeOfRow = selectedRow[0].offsetParent.offsetParent.offsetParent.id;
            if(rowClicked[0].nodeName == "BUTTON") {
                typeOfRow = selectedRow[0].offsetParent.id;
                if(typeOfRow == "ComparisonMainReviewTbody") {
                    comparisonReviewManager.updateStatusOfCategory(rowClicked[0], comparisonReviewManager);
                }
                else if(typeOfRow == "SourceAComplianceMainReviewTbody") {
                    sourceAComplianceReviewManager.updateStatusOfCategory(rowClicked[0]);
                }
                else if(typeOfRow == "SourceBComplianceMainReviewTbody") {
                    sourceBComplianceReviewManager.updateStatusOfCategory(rowClicked[0]);
                }  
            }
            else {
                if(typeOfRow == "ComparisonMainReviewTbody" || typeOfRow == "ComparisonDetailedReviewTbody") {
                    comparisonReviewManager.updateStatus(selectedRow, comparisonReviewManager);
                }
                else if(typeOfRow == "SourceAComplianceMainReviewTbody" || typeOfRow == "ComplianceADetailedReviewTbody") {
                    sourceAComplianceReviewManager.updateStatusOfComplianceElement(selectedRow);
                }
                else if(typeOfRow == "SourceBComplianceMainReviewTbody" || typeOfRow == "ComplianceBDetailedReviewTbody") {
                    sourceBComplianceReviewManager.updateStatusOfComplianceElement(selectedRow);
                }                             
            }      
        }

        function onUnAcceptClick(rowClicked) {
            var selectedRow = rowClicked;
            var typeOfRow = selectedRow[0].offsetParent.offsetParent.offsetParent.id;
            if(rowClicked[0].nodeName == "BUTTON") {
                typeOfRow = selectedRow[0].offsetParent.id;
                if(typeOfRow == "ComparisonMainReviewTbody") {
                   comparisonReviewManager.unAcceptCategory(rowClicked[0], comparisonReviewManager);
                }
                else if(typeOfRow == "SourceAComplianceMainReviewTbody") {
                    sourceAComplianceReviewManager.unAcceptCategory(rowClicked[0], sourceAComplianceReviewManager);
                }
                else if(typeOfRow == "SourceBComplianceMainReviewTbody") {
                    sourceBComplianceReviewManager.unAcceptCategory(rowClicked[0], sourceBComplianceReviewManager);
                }  
            }
            else {
                if(typeOfRow == "ComparisonMainReviewTbody" || typeOfRow == "ComparisonDetailedReviewTbody") {
                    comparisonReviewManager.unAcceptStatus(selectedRow, comparisonReviewManager);
                }
                
                else if(typeOfRow == "SourceAComplianceMainReviewTbody" || typeOfRow == "ComplianceADetailedReviewTbody") {
                    sourceAComplianceReviewManager.unAcceptStatus(selectedRow, sourceAComplianceReviewManager);
                }
                else if(typeOfRow == "SourceBComplianceMainReviewTbody" || typeOfRow == "ComplianceBDetailedReviewTbody") {
                    sourceBComplianceReviewManager.unAcceptStatus(selectedRow, sourceBComplianceReviewManager);
                }                             
            }      
        }

        function postData(comparisonCheckManager, sourceAComplianceCheckManager, sourceBComplianceCheckManager, AnalyticsData) {
            // post comparison data
            if (comparisonCheckManager) {
                $.ajax({
                    url: 'PHP/comparisonCheckpostDataWriter.1.php',
                    type: "POST",
                    async: true,
                    data: { "ComparisonCheckManager": JSON.stringify(comparisonCheckManager) },
                    success: function (data) {

                    }
                });
            }

            // post source A compliance data
            if (sourceAComplianceCheckManager) {
                $.ajax({
                    url: 'PHP/sourceAComplianceDataWriter.1.php',
                    type: "POST",
                    async: true,
                    data: { "SourceAComplianceCheckManager": JSON.stringify(sourceAComplianceCheckManager) },
                    success: function (data) {
                    }
                });
            }

            // post source B compliance data
            if (sourceBComplianceCheckManager) {
                $.ajax({
                    url: 'PHP/sourceBComplianceDataWriter.1.php',
                    type: "POST",
                    async: true,
                    data: { "SourceBComplianceCheckManager": JSON.stringify(sourceBComplianceCheckManager) },
                    success: function (data) {
                    }
                });
            }

            if (typeof AnalyticsData !== 'undefined') {
                $.ajax({
                    url: 'PHP/analyticsDetailsDataWriter.php',
                    type: "POST",
                    async: true,
                    data: { "AnalyticsDetailsData": JSON.stringify(AnalyticsData) },
                    success: function (data) {
                    }
                });
            }

        }

        function openViewTab(tabName) {
            var tabs = document.getElementsByClassName("viewContainerTab");
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].style.display = "none";
            }

            document.getElementById(tabName).style.display = "block";

            if (tabName === "AnalyticsTabPage") {
                document.getElementById("AnalyticsViewTab").style.backgroundColor = "#F3F0F4";
                document.getElementById("ChecksViewTab").style.backgroundColor = "lightgray";

                // window.open("/analyticsModule.html", 'popUpWindow', 'height=800,width=1500,left=100,top=100, status=yes');

                // analyticsManager = new AnalyticsManager();


            }
            else if (tabName === "ChecksTabPage") {
                document.getElementById("AnalyticsViewTab").style.backgroundColor = "lightgray";
                document.getElementById("ChecksViewTab").style.backgroundColor = "#F3F0F4";
            }
        }

        function setButtonsCollapsible() {
            // add event handler for collapsible rows
            var collapsibleRows = document.getElementsByClassName("collapsible");
            for (var i = 0; i < collapsibleRows.length; i++) {
                collapsibleRows[i].addEventListener("click", function () {
                    this.classList.toggle("active");
                    var content = this.nextElementSibling;
                    if (content.style.display === "block") {
                        content.style.display = "none";
                    } else {
                        content.style.display = "block";
                    }
                });
            }
        }

        function openCheckResultTab(tabName) {
            var tabs = document.getElementsByClassName("checkResultsContainerTab");
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].style.display = "none";
            }

            document.getElementById(tabName).style.display = "block";

            // // clear all contents of checksViewTable
            var checksViewTable = document.getElementById("checksViewTable");

            var viewerContainer1 = document.getElementById("viewerContainer1");
            //viewerContainer1.innerHTML = ""
            for (var i = 0; i < viewerContainer1.children.length; i++) {
                var childElement = viewerContainer1.children[i];
                if (childElement.id !== "overlay1") {
                    viewerContainer1.removeChild(childElement);
                    i--;
                }
                else {
                    childElement.style.display = "none";
                    document.getElementById("explodeSlider1").value = 0;
                }
            }

            var viewerContainer2 = document.getElementById("viewerContainer2");
            //viewerContainer2.innerHTML = ""
            for (var i = 0; i < viewerContainer2.children.length; i++) {
                var childElement = viewerContainer2.children[i];
                if (childElement.id !== "overlay2") {
                    viewerContainer2.removeChild(childElement);
                    i--;
                }
                else {
                    childElement.style.display = "none";
                    document.getElementById("explodeSlider2").value = 0;
                }
            }

            if (tabName === "ComparisonTabPage") {
                currentlyOpenedTab = "ComparisonTabPage";
                var sourceAComplianceTab = document.getElementById("dataSource2ModelBrowserTab");
                sourceAComplianceTab.style.backgroundColor = "lightgray";
                var sourceBComplianceTab = document.getElementById("dataSource3ModelBrowserTab");
                sourceBComplianceTab.style.backgroundColor = "lightgray";
                var comparisonTab = document.getElementById("dataSource1ModelBrowserTab");
                comparisonTab.style.backgroundColor = "#F3F0F4"

                var comparisonDetailedReviewTab = document.getElementById("ComparisonDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "block";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceADetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceBDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";


                var sourceAViewerRow = document.getElementById(sourceAViewerContainerRowId);
                sourceAViewerRow.style.width = "100%";
                sourceAViewerRow.style.height = "50%";
                sourceAViewerRow.style.top = "40px";
                sourceAViewerRow.style.display = "block";

                var sourceBViewerRow = document.getElementById(sourceBViewerContainerRowId);
                sourceBViewerRow.style.width = "100%";
                sourceBViewerRow.style.height = "50%";
                sourceBViewerRow.style.top = "40px";
                sourceBViewerRow.style.display = "block";

                //clear highlighted row
                if (comparisonReviewManager) {
                    if (comparisonReviewManager.SelectedComponentRowFromSheetA) {
                        comparisonReviewManager.unhighlightSelectedSheetRow(comparisonReviewManager.checkStatusArrayA,
                            comparisonReviewManager.SelectedComponentRowFromSheetA);
                    }
                    if (comparisonReviewManager.SelectedComponentRowFromSheetB) {
                        comparisonReviewManager.unhighlightSelectedSheetRow(comparisonReviewManager.checkStatusArrayB,
                            comparisonReviewManager.SelectedComponentRowFromSheetB);
                    }
                    if (comparisonReviewManager.SelectedComponentRow) {
                        comparisonReviewManager.RestoreBackgroundColor(comparisonReviewManager.SelectedComponentRow);
                    }
                }
            }
            else if (tabName === "SourceAComplianceTabPage") {
                currentlyOpenedTab = "SourceAComplianceTabPage";
                var sourceAComplianceTab = document.getElementById("dataSource2ModelBrowserTab");
                sourceAComplianceTab.style.backgroundColor = "#F3F0F4";
                var sourceBComplianceTab = document.getElementById("dataSource3ModelBrowserTab");
                sourceBComplianceTab.style.backgroundColor = "lightgray";
                var comparisonTab = document.getElementById("dataSource1ModelBrowserTab");
                comparisonTab.style.backgroundColor = "lightgray"

                var comparisonDetailedReviewTab = document.getElementById("ComparisonDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceADetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "block";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceBDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";

                var sourceAViewerRow = document.getElementById(sourceAViewerContainerRowId);
                sourceAViewerRow.style.width = "100%";
                sourceAViewerRow.style.height = "50%";
                sourceAViewerRow.style.margin = "auto";
                sourceAViewerRow.style.display = "block";

                var sourceBViewerRow = document.getElementById(sourceBViewerContainerRowId);
                sourceBViewerRow.style.display = "none";

                //clear highlighted row
                if (sourceAComplianceReviewManager) {
                    if (sourceAComplianceReviewManager.SelectedComponentRowFromSheetA) {
                        sourceAComplianceReviewManager.unhighlightSelectedSheetRow(sourceAComplianceReviewManager.checkStatusArray,
                            sourceAComplianceReviewManager.SelectedComponentRowFromSheetA);
                    }
                    if (sourceAComplianceReviewManager.SelectedComponentRow) {
                        sourceAComplianceReviewManager.RestoreBackgroundColor(sourceAComplianceReviewManager.SelectedComponentRow);
                    }
                }
            }
            else if (tabName === "SourceBComplianceTabPage") {
                currentlyOpenedTab = "SourceBComplianceTabPage";
                var sourceAComplianceTab = document.getElementById("dataSource2ModelBrowserTab");
                sourceAComplianceTab.style.backgroundColor = "lightgray";
                var sourceBComplianceTab = document.getElementById("dataSource3ModelBrowserTab");
                sourceBComplianceTab.style.backgroundColor = "#F3F0F4";
                var comparisonTab = document.getElementById("dataSource1ModelBrowserTab");
                comparisonTab.style.backgroundColor = "lightgray"

                var comparisonDetailedReviewTab = document.getElementById("ComparisonDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceADetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "none";
                var comparisonDetailedReviewTab = document.getElementById("ComplianceBDetailedReviewTbody");
                comparisonDetailedReviewTab.style.display = "block";

                var sourceBViewerRow = document.getElementById(sourceBViewerContainerRowId);
                sourceBViewerRow.style.width = "100%";
                sourceBViewerRow.style.height = "50%";
                sourceBViewerRow.style.margin = "auto";
                sourceBViewerRow.style.display = "block";

                var sourceAViewerRow = document.getElementById(sourceAViewerContainerRowId);
                sourceAViewerRow.style.display = "none";

                //clear highlighted row
                if (sourceBComplianceReviewManager) {
                    if (sourceBComplianceReviewManager.SelectedComponentRowFromSheetB) {
                        sourceBComplianceReviewManager.unhighlightSelectedSheetRow(sourceBComplianceReviewManager.checkStatusArray,
                            sourceBComplianceReviewManager.SelectedComponentRowFromSheetB);
                    }
                    if (sourceBComplianceReviewManager.SelectedComponentRow) {
                        sourceBComplianceReviewManager.RestoreBackgroundColor(sourceBComplianceReviewManager.SelectedComponentRow);
                    }
                }
            }

            // clear views before loading models into viewers
            if (typeof comparisonReviewManager !== 'undefined') {
                // clear viewer for XMl data source
                if (comparisonReviewManager.SourceAReviewModuleViewerInterface &&
                    comparisonReviewManager.SourceAReviewModuleViewerInterface.Viewer) {

                    comparisonReviewManager.SourceAReviewModuleViewerInterface.Viewer.model.clear();
                }

                if (comparisonReviewManager.SourceBReviewModuleViewerInterface &&
                    comparisonReviewManager.SourceBReviewModuleViewerInterface.Viewer) {
                    comparisonReviewManager.SourceBReviewModuleViewerInterface.Viewer.model.clear();
                }

            }
            if (typeof sourceAComplianceReviewManager !== 'undefined') {
                // clear viewer for XMl data source
                if (sourceAComplianceReviewManager.ReviewModuleViewerInterface &&
                    sourceAComplianceReviewManager.ReviewModuleViewerInterface.Viewer) {
                    sourceAComplianceReviewManager.ReviewModuleViewerInterface.Viewer.model.clear();
                }

            }
            if (typeof sourceBComplianceReviewManager !== 'undefined') {
                // clear viewer for XMl data source
                if (sourceBComplianceReviewManager.ReviewModuleViewerInterface &&
                    sourceBComplianceReviewManager.ReviewModuleViewerInterface.Viewer) {
                    sourceBComplianceReviewManager.ReviewModuleViewerInterface.Viewer.model.clear();
                }

            }

            // load data sources in viewer
            if (typeof comparisonReviewManager !== 'undefined' &&
                tabName === "ComparisonTabPage") {
                comparisonReviewManager.loadDatasources();
            }
            else if (typeof sourceAComplianceReviewManager !== 'undefined' &&
                tabName === "SourceAComplianceTabPage") {
                sourceAComplianceReviewManager.loadDatasource();
            }
            else if (typeof sourceBComplianceReviewManager !== 'undefined' &&
                tabName === "SourceBComplianceTabPage") {
                sourceBComplianceReviewManager.loadDatasource();
            }
        }

        function gotoCheckModule() {
            window.location = "checkModule.html";
            return false;
        }

        function closePopout() {
            if (this._poppedOutWindow) {
                this._poppedOutWindow.close();
                this._poppedOutWindow = null;
                this.returnViewer();
            }
        }


        function returnViewer(viewerdata) {
            // var container = document.getElementById("dataSourceViewer");
            viewerContainer = document.getElementsByClassName("viewContainerTab");
            viewerdata.style.width = "100%"
            viewerdata.style.height = "200px";
            viewerdata.style.margin = "auto";
            viewerdata.style.top = "120px";
            //margin: 20px 0 0 20px
            //viewerContainer[0].appendChild(viewerdata);
            viewerContainer[0].children[0].appendChild(viewerdata);
            var modalViewerContainer = viewerdata.getElementsByClassName("example-canvas-tiny");
            for (var i = 0; i < modalViewerContainer.length; i++) {

                var currentViewer = modalViewerContainer[i];
                if (document.getElementById("dataSource1ModelBrowserTab").style.backgroundColor !== "lightgray") {
                    currentViewer.style.width = "550px";
                    currentViewer.style.height = "270px";
                    //if (modalViewerContainer.length === 1) {
                    currentViewer.style.top = "0px";
                    //}
                }
                else {
                    currentViewer.style.width = "550px";
                    currentViewer.style.height = "405px";
                    //if (modalViewerContainer.length === 1) {
                    currentViewer.style.top = "70px";
                    //}
                }
            }

            // resize viewer canvas
            resizeHoopsViewerCanvas();
        };

        function OnFullScreen() {
            var modal = document.getElementById('maximizeViewerContainer');
            // When the user clicks the button, open the modal 
            modal.style.display = "block";
            if (document.getElementById("ChecksViewTab").style.backgroundColor === "rgb(243, 240, 244)") {
                var viewerdata = document.getElementById("checksViewTable")
                var modalViewer = document.getElementById("maximizeViewerContainer-content");
                modalViewer.innerHTML = "";
                modalViewer.appendChild(viewerdata);

                viewerdata.style.width = "100%";
                viewerdata.style.height = "100%";
                viewerdata.style.margin = "auto";
                modalViewer.style.marginLeft = "280px";


                var modalViewerContainer = viewerdata.getElementsByClassName("example-canvas-tiny");
                for (var i = 0; i < modalViewerContainer.length; i++) {
                    var currentViewer = modalViewerContainer[i];
                    currentViewer.style.width = "745px";
                    currentViewer.style.height = "370px";
                    currentViewer.style.top = "0px";
                    modalViewer.style.marginTop = "10px"

                    // if compliance viewer is being opened in fullscreen mode
                    if (document.getElementById("dataSource2ModelBrowserTab").style.backgroundColor !== "lightgray" ||
                        document.getElementById("dataSource3ModelBrowserTab").style.backgroundColor !== "lightgray") {
                        currentViewer.style.top = "0px";
                        modalViewer.style.marginTop = "195px"
                        modalViewer.style.width = "745px"
                        modalViewer.style.height = "370px"
                    }
                }

                // resize viewer canvas
                resizeHoopsViewerCanvas();
            }
            else if (document.getElementById("AnalyticsViewTab").style.backgroundColor === "rgb(243, 240, 244)") {
                var analyticsContainerElement = document.getElementById("analyticsContainer");
                var modalViewer = document.getElementById("maximizeViewerContainer-content");
                modalViewer.innerHTML = "";
                modalViewer.appendChild(analyticsContainerElement);
                modalViewer.style.marginLeft = "20px";
                modalViewer.style.marginTop = "10px";
                modalViewer.style.height = "750px";
                var modalAnalyticsContainer = modalViewer.children[0]//modalViewer.getElementById("analyticsContainer");
                modalAnalyticsContainer.style.height = "743px";
                modalAnalyticsContainer.style.width = "165%";
                modalAnalyticsContainer.style.marginTop = "0px";
            }
        }

        function resizeHoopsViewerCanvas() {
            if (document.getElementById("ComparisonDetailedReviewTbody").style.display === "block" &&
                comparisonReviewManager !== undefined) {
                if (comparisonReviewManager.SourceAReviewModuleViewerInterface &&
                    comparisonReviewManager.SourceAReviewModuleViewerInterface.Viewer) {
                    comparisonReviewManager.SourceAReviewModuleViewerInterface.Viewer.resizeCanvas();
                }
                if (comparisonReviewManager.SourceBReviewModuleViewerInterface &&
                    comparisonReviewManager.SourceBReviewModuleViewerInterface.Viewer) {
                    comparisonReviewManager.SourceBReviewModuleViewerInterface.Viewer.resizeCanvas();
                }
            }
            else if (document.getElementById("ComplianceADetailedReviewTbody").style.display === "block" &&
                sourceAComplianceReviewManager !== undefined &&
                sourceAComplianceReviewManager.ReviewModuleViewerInterface &&
                sourceAComplianceReviewManager.ReviewModuleViewerInterface.Viewer) {
                sourceAComplianceReviewManager.ReviewModuleViewerInterface.Viewer.resizeCanvas();
            }
            else if (document.getElementById("ComplianceBDetailedReviewTbody").style.display === "block" &&
                sourceBComplianceReviewManager !== undefined &&
                sourceBComplianceReviewManager.ReviewModuleViewerInterface &&
                sourceBComplianceReviewManager.ReviewModuleViewerInterface.Viewer) {
                sourceBComplianceReviewManager.ReviewModuleViewerInterface.Viewer.resizeCanvas();
            }
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            var modal = document.getElementById('maximizeViewerContainer');
            if (event.target == modal) {
                if (document.getElementById("ChecksViewTab").style.backgroundColor === "rgb(243, 240, 244)") {
                    var viewerdata = document.getElementById("checksViewTable")
                    returnViewer(viewerdata);
                }
                else if (document.getElementById("AnalyticsViewTab").style.backgroundColor === "rgb(243, 240, 244)") {
                    var analyticsContainerElement = document.getElementById("analyticsContainer").innerHTML;
                    var analyticsDiv = document.createElement("DIV");
                    analyticsDiv.id = "analyticsContainer";
                    document.getElementById("AnalyticsTabPage").appendChild(analyticsDiv);
                    document.getElementById("analyticsContainer").innerHTML = analyticsContainerElement;
                    analyticsDiv.style.height = "110%";
                    analyticsDiv.style.width = "100%";
                    analyticsDiv.style.marginTop = "50px";
                    document.getElementById("ChecksTabPage").style.marginTop = "40px";

                    // document.getElementById("analyticsContainer").innerHTML='<object type="text/html" data="/analyticsModule.html" style="height: 100%; width: 100%" ></object>';
                }

                modal.style.display = "none";
            }

            var i = document.getElementById("menu").style;
            if (i.visibility === "visible") {
                i.visibility = "hidden";
                // currentViewer = undefined;
            }
        }

        anima_isHidden = function (e) {
            if (!(e instanceof HTMLElement)) return !1;
            if (getComputedStyle(e).display == "none") return !0; else if (e.parentNode && anima_isHidden(e.parentNode)) return !0;
            return !1;
        };
        anima_loadAsyncSrcForTag = function (tag) {
            var elements = document.getElementsByTagName(tag);
            var toLoad = [];
            for (var i = 0; i < elements.length; i++) {
                var e = elements[i];
                var src = e.getAttribute("src");
                var loaded = (src != undefined && src.length > 0 && src != 'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==');
                if (loaded) continue;
                var asyncSrc = e.getAttribute("src");
                if (asyncSrc == undefined || asyncSrc.length == 0) continue;
                if (anima_isHidden(e)) continue;
                toLoad.push(e);
            }
            toLoad.sort(function (a, b) {
                return anima_getTop(a) - anima_getTop(b);
            });
            for (var i = 0; i < toLoad.length; i++) {
                var e = toLoad[i];
                var asyncSrc = e.getAttribute("src");
                e.setAttribute("src", asyncSrc);
            }
        };
        anima_pauseHiddenVideos = function (tag) {
            var elements = document.getElementsByTagName("video");
            for (var i = 0; i < elements.length; i++) {
                var e = elements[i];
                var isPlaying = !!(e.currentTime > 0 && !e.paused && !e.ended && e.readyState > 2);
                var isHidden = anima_isHidden(e);
                if (!isPlaying && !isHidden && e.getAttribute("autoplay") == "autoplay") {
                    e.play();
                } else if (isPlaying && isHidden) {
                    e.pause();
                }
            }
        };
        anima_loadAsyncSrc = function (tag) {
            anima_loadAsyncSrcForTag("img");
            anima_loadAsyncSrcForTag("iframe");
            anima_loadAsyncSrcForTag("video");
            anima_pauseHiddenVideos();
        };
        var anima_getTop = function (e) {
            var top = 0;
            do {
                top += e.offsetTop || 0;
                e = e.offsetParent;
            } while (e);
            return top;
        };
        anima_loadAsyncSrc();
        anima_old_onResize = window.onresize;
        anima_new_onResize = undefined;
        anima_updateOnResize = function () {
            if (anima_new_onResize == undefined || window.onresize != anima_new_onResize) {
                anima_new_onResize = function (x) {
                    if (anima_old_onResize != undefined) anima_old_onResize(x);
                    anima_loadAsyncSrc();
                };
                window.onresize = anima_new_onResize;
                setTimeout(function () {
                    anima_updateOnResize();
                }, 3000);
            }
        };
        anima_updateOnResize();
        setTimeout(function () {
            anima_loadAsyncSrc();
        }, 200);
    </script>
    <!-- End of Scripts -->
</body>

</html>